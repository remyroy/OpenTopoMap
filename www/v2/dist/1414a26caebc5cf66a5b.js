/*! For license information please see 1414a26caebc5cf66a5b.js.LICENSE.txt */
(()=>{var t={7520:function(t,e){!function(t){"use strict";function e(t){return t&&t.normalize&&t.normalize(),t&&t.textContent||""}function i(t,e){const i=t.getElementsByTagName(e);return i.length?i[0]:null}function o(t){const o={};if(t){const n=i(t,"line");if(n){const t=e(i(n,"color")),a=parseFloat(e(i(n,"opacity"))),r=parseFloat(e(i(n,"width")));t&&(o.stroke=t),isNaN(a)||(o["stroke-opacity"]=a),isNaN(r)||(o["stroke-width"]=96*r/25.4)}}return o}function n(t,o){const n={};let a,r;for(r=0;r<o.length;r++)a=i(t,o[r]),a&&(n[o[r]]=e(a));return n}function a(t){const i=n(t,["name","cmt","desc","type","time","keywords"]),o=t.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/GpxExtensions/v3","*");for(let n=0;n<o.length;n++){const a=o[n];a.parentNode.parentNode===t&&(i[a.tagName.replace(":","_")]=e(a))}const a=t.getElementsByTagName("link");a.length&&(i.links=[]);for(let t=0;t<a.length;t++)i.links.push(Object.assign({href:a[t].getAttribute("href")},n(a[t],["text","type"])));return i}function r(t){const o=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))],n=i(t,"ele"),a=i(t,"gpxtpx:hr")||i(t,"hr"),r=i(t,"time");let s;n&&(s=parseFloat(e(n)),isNaN(s)||o.push(s));const l={coordinates:o,time:r?e(r):null,extendedValues:[]};a&&l.extendedValues.push(["heart",parseFloat(e(a))]);const h=i(t,"extensions");if(null!==h)for(const t of["speed","course","hAcc","vAcc"]){const o=parseFloat(e(i(h,t)));isNaN(o)||l.extendedValues.push([t,o])}return l}function s(t){const e=l(t,"rtept");if(e)return{type:"Feature",properties:Object.assign(a(t),o(i(t,"extensions")),{_gpxType:"rte"}),geometry:{type:"LineString",coordinates:e.line}}}function l(t,e){const i=t.getElementsByTagName(e);if(i.length<2)return;const o=[],n=[],a={};for(let t=0;t<i.length;t++){const e=r(i[t]);o.push(e.coordinates),e.time&&n.push(e.time);for(let o=0;o<e.extendedValues.length;o++){const[n,r]=e.extendedValues[o],s="heart"===n?n:n+"s";a[s]||(a[s]=Array(i.length).fill(null)),a[s][t]=r}}return{line:o,times:n,extendedValues:a}}function h(t){const e=t.getElementsByTagName("trkseg"),n=[],r=[],s=[];for(let t=0;t<e.length;t++){const i=l(e[t],"trkpt");i&&(s.push(i),i.times&&i.times.length&&r.push(i.times))}if(0===s.length)return;const h=s.length>1,c=Object.assign(a(t),o(i(t,"extensions")),{_gpxType:"trk"},r.length?{coordinateProperties:{times:h?r:r[0]}}:{});for(let t=0;t<s.length;t++){const e=s[t];n.push(e.line);for(const[i,o]of Object.entries(e.extendedValues)){let e=c;"heart"===i&&(c.coordinateProperties||(c.coordinateProperties={}),e=c.coordinateProperties),h?(e[i]||(e[i]=s.map((t=>new Array(t.line.length).fill(null)))),e[i][t]=o):e[i]=o}}return{type:"Feature",properties:c,geometry:h?{type:"MultiLineString",coordinates:n}:{type:"LineString",coordinates:n[0]}}}function*c(t){const e=t.getElementsByTagName("trk"),i=t.getElementsByTagName("rte"),o=t.getElementsByTagName("wpt");for(let t=0;t<e.length;t++){const i=h(e[t]);i&&(yield i)}for(let t=0;t<i.length;t++){const e=s(i[t]);e&&(yield e)}for(let t=0;t<o.length;t++)yield(l=o[t],{type:"Feature",properties:Object.assign(a(l),n(l,["sym"])),geometry:{type:"Point",coordinates:r(l).coordinates}});var l}const u=[["heartRate","heartRates"],["Cadence","cadences"],["Speed","speeds"],["Watts","watts"]],d=[["TotalTimeSeconds","totalTimeSeconds"],["DistanceMeters","distanceMeters"],["MaximumSpeed","maxSpeed"],["AverageHeartRateBpm","avgHeartRate"],["MaximumHeartRateBpm","maxHeartRate"],["AvgSpeed","avgSpeed"],["AvgWatts","avgWatts"],["MaxWatts","maxWatts"]];function p(t,o){const n=[];for(const[a,r]of o){let o=i(t,a);if(!o){const e=t.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/ActivityExtension/v2",a);e.length&&(o=e[0])}const s=parseFloat(e(o));isNaN(s)||n.push([r,s])}return n}function f(t){const o=e(i(t,"LongitudeDegrees")),n=e(i(t,"LatitudeDegrees"));if(!o.length||!n.length)return null;const a=[parseFloat(o),parseFloat(n)],r=i(t,"AltitudeMeters"),s=i(t,"HeartRateBpm"),l=i(t,"Time");let h;return r&&(h=parseFloat(e(r)),isNaN(h)||a.push(h)),{coordinates:a,time:l?e(l):null,heartRate:s?parseFloat(e(s)):null,extensions:p(t,u)}}function m(t,e){const i=t.getElementsByTagName(e),o=[],n=[],a=[];if(i.length<2)return null;const r={extendedProperties:{}};for(let t=0;t<i.length;t++){const e=f(i[t]);if(null!==e){o.push(e.coordinates),e.time&&n.push(e.time),e.heartRate&&a.push(e.heartRate);for(const[o,n]of e.extensions)r.extendedProperties[o]||(r.extendedProperties[o]=Array(i.length).fill(null)),r.extendedProperties[o][t]=n}}return Object.assign(r,{line:o,times:n,heartRates:a})}function _(t){const e=t.getElementsByTagName("Track"),i=[],o=[],n=[],a=[];let r;const s=function(t){const e={};for(const[i,o]of t)e[i]=o;return e}(p(t,d));for(let t=0;t<e.length;t++)r=m(e[t],"Trackpoint"),r&&(i.push(r.line),r.times.length&&o.push(r.times),r.heartRates.length&&n.push(r.heartRates),a.push(r.extendedProperties));for(let t=0;t<a.length;t++){const o=a[t];for(const n in o)1===e.length?s[n]=r.extendedProperties[n]:(s[n]||(s[n]=i.map((t=>Array(t.length).fill(null)))),s[n][t]=o[n])}if(0!==i.length)return(o.length||n.length)&&(s.coordinateProperties=Object.assign(o.length?{times:1===i.length?o[0]:o}:{},n.length?{heart:1===i.length?n[0]:n}:{})),{type:"Feature",properties:s,geometry:{type:1===i.length?"LineString":"MultiLineString",coordinates:1===i.length?i[0]:i}}}function*g(t){const e=t.getElementsByTagName("Lap");for(let t=0;t<e.length;t++){const i=_(e[t]);i&&(yield i)}}const v=/\s*/g,y=/^\s*|\s*$/g,x=/\s+/;function b(t){if(!t||!t.length)return 0;let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i)|0;return e}function w(t){return t.replace(v,"").split(",").map(parseFloat)}function L(t){return t.replace(y,"").split(x).map(w)}function k(t){if(void 0!==t.xml)return t.xml;if(t.tagName){let e=t.tagName;for(let i=0;i<t.attributes.length;i++)e+=t.attributes[i].name+t.attributes[i].value;for(let i=0;i<t.childNodes.length;i++)e+=k(t.childNodes[i]);return e}return"#text"===t.nodeName?(t.nodeValue||t.value||"").trim():"#cdata-section"===t.nodeName?t.nodeValue:""}const P=["Polygon","LineString","Point","Track","gx:Track"];function T(t,o,n){let a=e(i(o,"color"))||"";const r="stroke"==n||"fill"===n?n:n+"-color";"#"===a.substr(0,1)&&(a=a.substr(1)),6===a.length||3===a.length?t[r]=a:8===a.length&&(t[n+"-opacity"]=parseInt(a.substr(0,2),16)/255,t[r]="#"+a.substr(6,2)+a.substr(4,2)+a.substr(2,2))}function C(t,o,n,a){const r=parseFloat(e(i(o,n)));isNaN(r)||(t[a]=r)}function z(t){let i=t.getElementsByTagName("coord");const o=[],n=[];0===i.length&&(i=t.getElementsByTagName("gx:coord"));for(let t=0;t<i.length;t++)o.push(e(i[t]).split(" ").map(parseFloat));const a=t.getElementsByTagName("when");for(let t=0;t<a.length;t++)n.push(e(a[t]));return{coords:o,times:n}}function M(t){let o,n,a,r,s;const l=[],h=[];if(i(t,"MultiGeometry"))return M(i(t,"MultiGeometry"));if(i(t,"MultiTrack"))return M(i(t,"MultiTrack"));if(i(t,"gx:MultiTrack"))return M(i(t,"gx:MultiTrack"));for(a=0;a<P.length;a++)if(n=t.getElementsByTagName(P[a]),n)for(r=0;r<n.length;r++)if(o=n[r],"Point"===P[a])l.push({type:"Point",coordinates:w(e(i(o,"coordinates")))});else if("LineString"===P[a])l.push({type:"LineString",coordinates:L(e(i(o,"coordinates")))});else if("Polygon"===P[a]){const t=o.getElementsByTagName("LinearRing"),n=[];for(s=0;s<t.length;s++)n.push(L(e(i(t[s],"coordinates"))));l.push({type:"Polygon",coordinates:n})}else if("Track"===P[a]||"gx:Track"===P[a]){const t=z(o);l.push({type:"LineString",coordinates:t.coords}),t.times.length&&h.push(t.times)}return{geoms:l,coordTimes:h}}function S(t,o,n,a){const r=M(t);let s;const l={},h=e(i(t,"name")),c=e(i(t,"address"));let u=e(i(t,"styleUrl"));const d=e(i(t,"description")),p=i(t,"TimeSpan"),f=i(t,"TimeStamp"),m=i(t,"ExtendedData");let _=i(t,"IconStyle"),g=i(t,"LabelStyle"),v=i(t,"LineStyle"),y=i(t,"PolyStyle");const x=i(t,"visibility");if(h&&(l.name=h),c&&(l.address=c),u){"#"!==u[0]&&(u="#"+u),l.styleUrl=u,o[u]&&(l.styleHash=o[u]),n[u]&&(l.styleMapHash=n[u],l.styleHash=o[n[u].normal]);const t=a[l.styleHash];t&&(_||(_=i(t,"IconStyle")),g||(g=i(t,"LabelStyle")),v||(v=i(t,"LineStyle")),y||(y=i(t,"PolyStyle")))}if(d&&(l.description=d),p){const t=e(i(p,"begin")),o=e(i(p,"end"));l.timespan={begin:t,end:o}}if(f&&(l.timestamp=e(i(f,"when"))),_){T(l,_,"icon"),C(l,_,"scale","icon-scale"),C(l,_,"heading","icon-heading");const t=i(_,"hotSpot");if(t){const e=parseFloat(t.getAttribute("x")),i=parseFloat(t.getAttribute("y"));isNaN(e)||isNaN(i)||(l["icon-offset"]=[e,i])}const o=i(_,"Icon");if(o){const t=e(i(o,"href"));t&&(l.icon=t)}}if(g&&(T(l,g,"label"),C(l,g,"scale","label-scale")),v&&(T(l,v,"stroke"),C(l,v,"width","stroke-width")),y){T(l,y,"fill");const t=e(i(y,"fill")),o=e(i(y,"outline"));t&&(l["fill-opacity"]="1"===t?l["fill-opacity"]||1:0),o&&(l["stroke-opacity"]="1"===o?l["stroke-opacity"]||1:0)}if(m){const t=m.getElementsByTagName("Data"),o=m.getElementsByTagName("SimpleData");for(s=0;s<t.length;s++)l[t[s].getAttribute("name")]=e(i(t[s],"value"));for(s=0;s<o.length;s++)l[o[s].getAttribute("name")]=e(o[s])}x&&(l.visibility=e(x)),r.coordTimes.length&&(l.coordinateProperties={times:1===r.coordTimes.length?r.coordTimes[0]:r.coordTimes});const b={type:"Feature",geometry:0===r.geoms.length?null:1===r.geoms.length?r.geoms[0]:{type:"GeometryCollection",geometries:r.geoms},properties:l};return t.getAttribute("id")&&(b.id=t.getAttribute("id")),b}function*E(t){const o={},n={},a={},r=t.getElementsByTagName("Placemark"),s=t.getElementsByTagName("Style"),l=t.getElementsByTagName("StyleMap");for(let t=0;t<s.length;t++){const e=b(k(s[t])).toString(16);o["#"+s[t].getAttribute("id")]=e,n[e]=s[t]}for(let t=0;t<l.length;t++){o["#"+l[t].getAttribute("id")]=b(k(l[t])).toString(16);const n=l[t].getElementsByTagName("Pair"),r={};for(let t=0;t<n.length;t++)r[e(i(n[t],"key"))]=e(i(n[t],"styleUrl"));a["#"+l[t].getAttribute("id")]=r}for(let t=0;t<r.length;t++){const e=S(r[t],o,a,n);e&&(yield e)}}t.gpx=function(t){return{type:"FeatureCollection",features:Array.from(c(t))}},t.gpxGen=c,t.kml=function(t){return{type:"FeatureCollection",features:Array.from(E(t))}},t.kmlGen=E,t.tcx=function(t){return{type:"FeatureCollection",features:Array.from(g(t))}},t.tcxGen=g,Object.defineProperty(t,"__esModule",{value:!0})}(e)},9669:(t,e,i)=>{t.exports=i(1609)},5448:(t,e,i)=>{"use strict";var o=i(4867),n=i(6026),a=i(4372),r=i(5327),s=i(4097),l=i(4109),h=i(7985),c=i(5061);t.exports=function(t){return new Promise((function(e,i){var u=t.data,d=t.headers;o.isFormData(u)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(f+":"+m)}var _=s(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),r(_,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,a={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:o,config:t,request:p};n(e,i,a),p=null}},p.onabort=function(){p&&(i(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){i(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(c(e,t,"ECONNABORTED",p)),p=null},o.isStandardBrowserEnv()){var g=(t.withCredentials||h(_))&&t.xsrfCookieName?a.read(t.xsrfCookieName):void 0;g&&(d[t.xsrfHeaderName]=g)}if("setRequestHeader"in p&&o.forEach(d,(function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)})),o.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),i(t),p=null)})),u||(u=null),p.send(u)}))}},1609:(t,e,i)=>{"use strict";var o=i(4867),n=i(1849),a=i(321),r=i(7185);function s(t){var e=new a(t),i=n(a.prototype.request,e);return o.extend(i,a.prototype,e),o.extend(i,e),i}var l=s(i(5655));l.Axios=a,l.create=function(t){return s(r(l.defaults,t))},l.Cancel=i(5263),l.CancelToken=i(4972),l.isCancel=i(6502),l.all=function(t){return Promise.all(t)},l.spread=i(8713),l.isAxiosError=i(568),t.exports=l,t.exports.default=l},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,i)=>{"use strict";var o=i(5263);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new o(t),e(i.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,i)=>{"use strict";var o=i(4867),n=i(5327),a=i(782),r=i(3572),s=i(7185);function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[r,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)i=i.then(e.shift(),e.shift());return i},l.prototype.getUri=function(t){return t=s(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,i){return this.request(s(i||{},{method:t,url:e,data:(i||{}).data}))}})),o.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,i,o){return this.request(s(o||{},{method:t,url:e,data:i}))}})),t.exports=l},782:(t,e,i)=>{"use strict";var o=i(4867);function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){o.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},4097:(t,e,i)=>{"use strict";var o=i(1793),n=i(7303);t.exports=function(t,e){return t&&!o(e)?n(t,e):e}},5061:(t,e,i)=>{"use strict";var o=i(481);t.exports=function(t,e,i,n,a){var r=new Error(t);return o(r,e,i,n,a)}},3572:(t,e,i)=>{"use strict";var o=i(4867),n=i(8527),a=i(6502),r=i(5655);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||r.adapter)(t).then((function(e){return s(t),e.data=n(e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(s(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,i,o,n){return t.config=e,i&&(t.code=i),t.request=o,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:(t,e,i)=>{"use strict";var o=i(4867);t.exports=function(t,e){e=e||{};var i={},n=["url","method","data"],a=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(t,e){return o.isPlainObject(t)&&o.isPlainObject(e)?o.merge(t,e):o.isPlainObject(e)?o.merge({},e):o.isArray(e)?e.slice():e}function h(n){o.isUndefined(e[n])?o.isUndefined(t[n])||(i[n]=l(void 0,t[n])):i[n]=l(t[n],e[n])}o.forEach(n,(function(t){o.isUndefined(e[t])||(i[t]=l(void 0,e[t]))})),o.forEach(a,h),o.forEach(r,(function(n){o.isUndefined(e[n])?o.isUndefined(t[n])||(i[n]=l(void 0,t[n])):i[n]=l(void 0,e[n])})),o.forEach(s,(function(o){o in e?i[o]=l(t[o],e[o]):o in t&&(i[o]=l(void 0,t[o]))}));var c=n.concat(a).concat(r).concat(s),u=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return o.forEach(u,h),i}},6026:(t,e,i)=>{"use strict";var o=i(5061);t.exports=function(t,e,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?e(o("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},8527:(t,e,i)=>{"use strict";var o=i(4867);t.exports=function(t,e,i){return o.forEach(i,(function(i){t=i(t,e)})),t}},5655:(t,e,i)=>{"use strict";var o=i(4867),n=i(6016),a={"Content-Type":"application/x-www-form-urlencoded"};function r(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=i(5448)),s),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),o.forEach(["post","put","patch"],(function(t){l.headers[t]=o.merge(a)})),t.exports=l},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(e,i)}}},5327:(t,e,i)=>{"use strict";var o=i(4867);function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var a;if(i)a=i(e);else if(o.isURLSearchParams(e))a=e.toString();else{var r=[];o.forEach(e,(function(t,e){null!=t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,(function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),r.push(n(e)+"="+n(t))})))})),a=r.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,i)=>{"use strict";var o=i(4867);t.exports=o.isStandardBrowserEnv()?{write:function(t,e,i,n,a,r){var s=[];s.push(t+"="+encodeURIComponent(e)),o.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),o.isString(n)&&s.push("path="+n),o.isString(a)&&s.push("domain="+a),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},568:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,i)=>{"use strict";var o=i(4867);t.exports=o.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var o=t;return e&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=o.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},6016:(t,e,i)=>{"use strict";var o=i(4867);t.exports=function(t,e){o.forEach(t,(function(i,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[o])}))}},4109:(t,e,i)=>{"use strict";var o=i(4867),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,a,r={};return t?(o.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=o.trim(t.substr(0,a)).toLowerCase(),i=o.trim(t.substr(a+1)),e){if(r[e]&&n.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([i]):r[e]?r[e]+", "+i:i}})),r):r}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4867:(t,e,i)=>{"use strict";var o=i(1849),n=Object.prototype.toString;function a(t){return"[object Array]"===n.call(t)}function r(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==n.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function h(t){return"[object Function]"===n.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:l,isUndefined:r,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:h,isStream:function(t){return s(t)&&h(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function i(i,o){l(e[o])&&l(i)?e[o]=t(e[o],i):l(i)?e[o]=t({},i):a(i)?e[o]=i.slice():e[o]=i}for(var o=0,n=arguments.length;o<n;o++)c(arguments[o],i);return e},extend:function(t,e,i){return c(e,(function(e,n){t[n]=i&&"function"==typeof e?o(e,i):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},4198:(t,e,i)=>{"use strict";i.d(e,{Z:()=>w});var o=i(3645),n=i.n(o),a=i(1667),r=i.n(a),s=i(1988),l=i(1777),h=i(732),c=i(2114),u=i(6630),d=i(8189),p=i(8020),f=n()((function(t){return t[1]})),m=r()(s.Z),_=r()(l.Z),g=r()(h.Z),v=r()(c.Z),y=r()(u.Z),x=r()(d.Z),b=r()(p.Z);f.push([t.id,'.leaflet-hidden{visibility:hidden}.legend{cursor:pointer}.leaflet-container{z-index:0}.elevation-detached{font:12px/1.5 "Helvetica Neue",Arial,Helvetica,sans-serif;height:auto;width:100%;position:relative;z-index:0}.elevation-detached .elevation{width:100%}.elevation-detached .background{max-width:100%}.elevation-control.elevation .background{background-color:rgba(70,130,180,.2);border-radius:5px;overflow:visible;display:block;touch-action:none}.elevation-control.elevation .background.zoomed .point,.elevation-control.elevation .background.zoomed .axis.time{display:none}.elevation-control.elevation .axis line,.elevation-control.elevation .axis path{stroke:#2d1130;stroke-width:1;fill:none}.elevation-control.elevation .grid .tick line{stroke:#eee;stroke-width:1px;shape-rendering:crispEdges}.elevation-control.elevation .grid path{stroke-width:0;pointer-events:none}.elevation-control.elevation .axis text,.elevation-control.elevation .point text{fill:#000;font-weight:700;paint-order:stroke fill;stroke:#fff;stroke-width:2px}.elevation-control.elevation .y.axis text{text-anchor:end}.elevation-control.elevation .area{fill:#4682b4;stroke:#000;stroke-width:1.2;paint-order:stroke fill}.elevation-detached .elevation-control.elevation .area{fill-opacity:.8}.elevation-control.elevation .horizontal-drag-line{stroke:transparent;cursor:row-resize;stroke-width:1.1;stroke-dasharray:5}.elevation-control.elevation .active .horizontal-drag-line{stroke:#000}.elevation-control.elevation .horizontal-drag-label{font-weight:700;fill:#000;paint-order:stroke;stroke:#fff;stroke-width:2px;pointer-events:none}.elevation-control.elevation .ruler{cursor:row-resize;color:#000}.elevation-control.elevation .mouse-focus-line{stroke:#0d1821;stroke-width:1;pointer-events:none}.elevation-control.elevation .mouse-focus-label-rect{fill:#000;fill-opacity:.75;pointer-events:none;stroke-width:1;stroke:#444}.elevation-control.elevation .mouse-focus-label-text{fill:#fff;pointer-events:none;font-size:10px}.elevation-control.elevation .brush .overlay{cursor:unset}.elevation-control.elevation .brush .selection{fill:rgba(23,74,117,.4);stroke:none;fill-opacity:unset}.elevation-control.elevation .elevation-toggle{cursor:pointer;box-shadow:0 1px 7px rgba(0,0,0,.4);border-radius:5px;width:36px;height:36px;background-color:#f8f8f9}.elevation-summary{font-family:"Lucida Grande","Lucida Sans Unicode",Verdana,Arial,Helvetica,sans-serif;font-size:12px;margin:0 auto}.leaflet-control-container .elevation-summary{text-shadow:1.5px 0 0 #fff,-1.5px 0 0 #fff,0 1.5px 0 #fff,0 -1.5px 0 #fff,1px 1px #fff,-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff}.elevation-detached .elevation-summary{margin:0 45px}.elevation-summary.multiline-summary{margin-right:30px}.elevation-detached .elevation-summary.multiline-summary{margin-bottom:12px;margin-top:12px;line-height:2}.elevation-summary.inline-summary>span:not(:last-child):after{content:" — "}.elevation-summary.multiline-summary>span{display:block}.elevation-summary.multiline-summary .download{float:right;margin-top:-2.5em;font-weight:bold;font-size:1.2em}.elevation-detached .elevation-summary.multiline-summary .download{margin-top:-3.5em}.elevation-summary .summaryvalue{font-weight:bold}.elevation-control.elevation-collapsed .background,.elevation-control.elevation-collapsed .elevation-summary{display:none}.elevation-control.elevation-collapsed .elevation-toggle{display:block}.elevation-control.elevation .elevation-toggle-icon{background:url('+m+") no-repeat center center}.elevation-control.elevation.elevation-expanded .elevation-toggle-icon.close-button{background:transparent url("+_+") no-repeat center center;position:absolute;right:5px;top:5px;height:20px;width:20px}.leaflet-elevation-pane .height-focus,.leaflet-overlay-pane .height-focus{stroke:#000;fill:#fff}.leaflet-elevation-pane .height-focus.line,.leaflet-overlay-pane .height-focus.line{pointer-events:none;stroke-width:2}.leaflet-elevation-pane .height-focus-label,.leaflet-overlay-pane .height-focus-label{font-size:12px;font-weight:600;fill:#000;paint-order:stroke;stroke:#fff;stroke-width:2px}.elevation-waypoint-icon:before{background:url("+g+') no-repeat center center/contain;content:"";width:100%;height:100%;display:inline-block}.elevation-position-icon:before{background:url('+v+') no-repeat center center/contain;content:"";width:100%;height:100%;display:inline-block}.elevation-polyline{filter:drop-shadow(1px 1px 0 #FFF) drop-shadow(-1px -1px 0 #FFF) drop-shadow(1px -1px 0 #FFF) drop-shadow(-1px 1px 0 #FFF)}.elevation-placeholder{margin:auto;height:auto;width:100%}.elevation-placeholder~*{display:none !important}.lime-theme.elevation-control.elevation .background{background-color:rgba(156,194,34,.2)}.lime-theme.elevation-control.elevation .axis line,.lime-theme.elevation-control.elevation .axis path{stroke:#566b13}.lime-theme.elevation-control.elevation .grid .tick line{stroke:#ccc}.lime-theme.elevation-control.elevation .brush .selection{fill:rgba(99,126,11,.4)}.lime-theme.elevation-control.elevation .elevation-toggle-icon{background:url('+y+") no-repeat center center}.lime-theme.elevation-control.elevation .area{fill:#9cc222}.lime-theme.elevation-control.elevation .mouse-focus-line{stroke:#101404}.lime-theme.height-focus{stroke:#000;fill:#9cc222}.lime-theme.elevation-polyline{stroke:#566b13}.steelblue-theme.elevation-control.elevation .background{background-color:rgba(70,130,180,.2)}.steelblue-theme.elevation-control.elevation .axis line,.steelblue-theme.elevation-control.elevation .axis path{stroke:#0d1821}.steelblue-theme.elevation-control.elevation .brush .selection{fill:rgba(23,74,117,.4)}.steelblue-theme.elevation-control.elevation .elevation-toggle-icon{background:url("+x+") no-repeat center center}.steelblue-theme.elevation-control.elevation .area{fill:#4682b4}.steelblue-theme.elevation-control.elevation .mouse-focus-line{stroke:#0d1821}.steelblue-theme.height-focus{stroke:#000;fill:#4682b4}.steelblue-theme.elevation-polyline{stroke:#4682b4}.purple-theme.elevation-control.elevation .background{background-color:rgba(115,44,123,.2)}.purple-theme.elevation-control.elevation .axis line,.purple-theme.elevation-control.elevation .axis path{stroke:#2d1130}.purple-theme.elevation-control.elevation .brush .selection{fill:rgba(74,14,80,.4)}.purple-theme.elevation-control.elevation .elevation-toggle-icon{background:url("+b+") no-repeat center center}.purple-theme.elevation-control.elevation .area{fill:#732c7b}.purple-theme.elevation-control.elevation .mouse-focus-line{stroke:#000}.purple-theme.height-focus{stroke:#000;fill:#732c7b}.purple-theme.elevation-polyline{stroke:#732c7b}.yellow-theme.elevation-control.elevation .area{fill:#ff0}.yellow-theme.elevation-polyline{stroke:#ff0}.red-theme.elevation-control.elevation .area{fill:red}.red-theme.elevation-polyline{stroke:red}.magenta-theme.elevation-control.elevation .background{background-color:rgba(255,255,255,.47)}.magenta-theme.elevation-control.elevation .area{fill:#ff005e}.magenta-theme.elevation-polyline{stroke:#ff005e}.lightblue-theme.elevation-control.elevation .area{fill:#36c;stroke:#000}.elevation-detached .lightblue-theme.elevation-control.elevation .area{fill-opacity:.45;stroke:#36c}.lightblue-theme.height-focus{stroke:#000;fill:#fff}.lightblue-theme.elevation-polyline{stroke:#36c}.dist-marker{font-size:.5rem;border:1px solid #777;border-radius:10px;text-align:center;color:#000;background:#fff}",""]);const w=f},4074:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(3645),n=i.n(o)()((function(t){return t[1]}));n.push([t.id,'.leaflet-control-geosearch *,.leaflet-control-geosearch *:before,.leaflet-control-geosearch *:after{box-sizing:border-box}.leaflet-control-geosearch .leaflet-bar-part{border-radius:4px;border-bottom:none}.leaflet-control-geosearch a.leaflet-bar-part:before,.leaflet-control-geosearch a.leaflet-bar-part:after{position:absolute;display:block;content:""}.leaflet-control-geosearch a.leaflet-bar-part:before{top:15px;left:13px;width:6px;border-top:2px solid #555;transform:rotateZ(45deg)}.leaflet-control-geosearch a.leaflet-bar-part:after{top:8px;left:8px;height:8px;width:8px;border-radius:50%;border:2px solid #555}.leaflet-control-geosearch.error a.leaflet-bar-part:before,.leaflet-control-geosearch.pending a.leaflet-bar-part:before{display:none}.leaflet-control-geosearch.pending a.leaflet-bar-part:after,.leaflet-control-geosearch.error a.leaflet-bar-part:after{left:50%;top:50%;width:18px;height:18px;margin:-9px 0 0 -9px;border-radius:50%}.leaflet-control-geosearch.pending a.leaflet-bar-part:after{content:"";border:2px solid #555;border-top:2px solid #f3f3f3;animation:spin 1s linear infinite}.leaflet-control-geosearch.error a.leaflet-bar-part:after{content:"!";line-height:initial;font-weight:600;font-size:18px;border:none}.leaflet-control-geosearch form{display:none;position:absolute;top:0;left:36px;border-radius:0 4px 4px 0;background-color:#fff;background-clip:padding-box;z-index:-1;height:auto;margin:0;padding:0 8px;box-shadow:0 1px 5px rgba(0,0,0,.65)}.leaflet-geosearch-button form.open{border-radius:0 4px 4px 4px}.leaflet-control-geosearch.active form{display:block}.leaflet-geosearch-button.active .leaflet-bar-part{border-radius:4px 0 0 4px;width:36px}.leaflet-geosearch-button form{max-width:350px}.leaflet-control-geosearch form input{min-width:200px;width:100%;outline:none;border:none;margin:0;padding:0;font-size:12px;height:26px;border:none;border-radius:0 4px 4px 0;text-indent:8px}.leaflet-touch .leaflet-geosearch-bar form{border:2px solid rgba(0,0,0,.2);box-shadow:none}.leaflet-touch .leaflet-geosearch-bar form input{height:30px}.leaflet-control-geosearch .results{background:#fff}.leaflet-control-geosearch .results>*{line-height:24px;padding:0 8px;border:1px solid transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.leaflet-control-geosearch .results.active{padding:8px 0;border-top:1px solid #c6c6c6}.leaflet-control-geosearch .results>.active,.leaflet-control-geosearch .results>:hover{background-color:#f8f8f8;border-color:#c6c6c6;cursor:pointer}.leaflet-control-geosearch .results.active:after{content:"";display:block;width:0;position:absolute;left:-2px;bottom:-2px;top:30px}.leaflet-touch .leaflet-control-geosearch .results.active:after{border-left:2px solid rgba(0,0,0,.2)}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.leaflet-top .leaflet-geosearch-bar,.leaflet-bottom .leaflet-geosearch-bar{display:none}.leaflet-geosearch-bar{position:relative;display:block;height:auto;width:400px;max-width:calc(100% - 120px);margin:10px auto 0;cursor:auto;z-index:1000}.leaflet-geosearch-bar form{position:relative;top:0;left:0;display:block;border-radius:4px}.leaflet-geosearch-bar form input{min-width:100%;width:100%}.leaflet-geosearch-bar .results.active:after{opacity:.2}.leaflet-right .leaflet-control-geosearch form{right:28px;left:initial;border-radius:4px 0 0 4px;border-left:inherit;border-right:none}.leaflet-control-geosearch a.reset{color:#000;font-weight:bold;position:absolute;line-height:26px;padding:0 8px;right:0;top:0;cursor:pointer;border:none;text-decoration:none;background-color:#fff;border-radius:0 4px 4px 0}.leaflet-touch .leaflet-control-geosearch a.reset{line-height:30px}.leaflet-control-geosearch a.reset:hover{background:#f5f5f5}',""]);const a=n},8153:(t,e,i)=>{"use strict";i.d(e,{Z:()=>f});var o=i(3645),n=i.n(o),a=i(1667),r=i.n(a),s=i(5443),l=i(6268),h=i(1090),c=n()((function(t){return t[1]})),u=r()(s.default),d=r()(l.default),p=r()(h.default);c.push([t.id,'.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none !important;max-height:none !important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0, 0, 0.25, 1);-moz-transition:-moz-transform .25s cubic-bezier(0, 0, 0.25, 1);transition:transform .25s cubic-bezier(0, 0, 0.25, 1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font:12px/1.5 "Helvetica Neue",Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:bold 18px "Lucida Console",Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url('+u+");width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url("+d+");background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url("+p+')}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;box-sizing:border-box;background:#fff;background:rgba(255,255,255,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:bold;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}',""]);const f=c},4800:(t,e,i)=>{"use strict";i.d(e,{Z:()=>z});var o=i(3645),n=i.n(o),a=i(1667),r=i.n(a),s=i(6923),l=i(4258),h=i(9144),c=i(9637),u=i(1784),d=i(6291),p=i(7823),f=i(1564),m=i(1398),_=i(5245),g=n()((function(t){return t[1]})),v=r()(s.Z),y=r()(l.Z),x=r()(h.Z),b=r()(c.Z),w=r()(u.Z),L=r()(d.Z),k=r()(p.Z),P=r()(f.Z),T=r()(m.Z),C=r()(_.Z);g.push([t.id,"@-ms-viewport{width:device-width}html{height:100%}body{height:100%;overflow:hidden;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif;font-size:1em;color:#fff;background-color:#000}#map{width:100%;height:100%}.otm-button{cursor:pointer}.otm-button-toggled{background-color:#606060 !important}.otm-button-toggled:hover{background-color:#474747 !important}.otm-button-search{background-image:url("+v+");background-size:20px auto}.otm-button-search-w{background-image:url("+y+");background-size:20px auto}.otm-button-target{background-image:url("+x+");background-size:22px auto}.otm-button-target-w{background-image:url("+b+");background-size:22px auto}.otm-button-waypoints{background-image:url("+w+");background-size:24px auto}.otm-button-marker{background-image:url("+L+");background-size:14px auto}.otm-button-marker-w{background-image:url("+k+");background-size:14px auto}.leaflet-control-geosearch{color:#666;width:864px;max-width:70%;padding-right:12px}.otm-marker-location{cursor:inherit;width:12px !important;height:12px !important;margin-top:-6px !important;margin-left:-6px !important;border-radius:6px;background-color:rgba(255,20,20,.85);box-shadow:0 0 0 0 rgba(255,20,20,.85);animation:otm-marker-location-keyframes 1s infinite}@keyframes otm-marker-location-keyframes{0%{box-shadow:0 0 0 0 rgba(255,20,20,.5);background-color:#ffc8c8}10%{background-color:rgba(255,20,20,.85)}20%{background-color:#ffc8c8}30%{background-color:rgba(255,20,20,.85)}70%{box-shadow:0 0 0 12px rgba(255,20,20,0)}100%{box-shadow:0 0 0 0 rgba(255,20,20,0)}}.otm-marker-circle{fill:#ff1414;fill-opacity:.15;stroke-width:.5;stroke:#ff1414;stroke-opacity:.9}.otm-message-location{font-size:14px;width:auto !important;padding:0 14px;pointer-events:none;cursor:inherit}.otm-message-container{pointer-events:none;cursor:inherit}.otm-message-spinner{display:inline-block;width:16px;height:16px;margin:4px 0 -2px 14px;background-color:#ff1414;border-radius:100%;animation:otm-message-spinner-animation 1s infinite ease-in-out}@keyframes otm-message-spinner-animation{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}.otm-info-dropdown{position:relative;background-color:#fff}.otm-info-logobutton{width:44px;height:44px;background-image:url("+P+");background-size:36px auto;background-position:5px 4px;background-repeat:no-repeat}.otm-info-logobutton-visible{display:block}.otm-info-logobutton-hidden{display:none}.otm-info-droparea{width:164px;color:#333}.otm-info-droparea-visible{display:flex;flex-direction:column}.otm-info-droparea-hidden{display:none}.otm-info-item{padding:0px 10px;display:block;width:144px !important;text-align:left !important;overflow:hidden;outline:none !important;border-radius:0 !important;border-bottom:1px solid #e0e0e0 !important;cursor:pointer !important}.otm-info-item:hover{background-color:#f0f0f0;color:#666 !important}.otm-info-header{padding:0px 10px;display:block;width:144px !important;text-align:left !important;overflow:hidden;outline:none !important;border-radius:0 !important;border-bottom:2px solid #e0e0e0;height:36px;background-color:#fff;background-image:url("+T+');background-size:136px auto;background-position:9px 8px;background-repeat:no-repeat}.otm-lang-picker{position:relative;display:flex;flex-direction:column}.otm-lang-picker-button{position:relative;display:flex;width:44px;line-height:3;overflow:hidden;background-color:#fff}.otm-lang-picker-button:hover{background-color:#f0f0f0}.otm-lang-picker-button::after{content:"▼";position:absolute;top:-7px;right:0;padding:0 4px 4px 4px;color:#f0f0f0;cursor:pointer;pointer-events:none;transition:.25s all ease}.otm-lang-picker-button:hover::after{color:#707070}.otm-lang-picker-dropdown{background-color:#fff;width:44px;border-radius:0 0 2px 2px;display:none}.otm-lang-picker-dropdown.dropped{display:flex;flex-direction:column}.otm-lang-picker-item{border-top:1px solid #e0e0e0;display:flex;line-height:0;justify-content:center}.otm-lang-picker-item:hover{background-color:#f0f0f0}.otm-lang-picker img{width:18px;height:12px;margin:6px;box-shadow:0px 0px 4px 2px #e0e0e0}.otm-theme.elevation-control.elevation .area{fill:rgba(255,16,16,.85);stroke:rgba(128,128,128,.85);stroke-width:1}.otm-theme.height-focus.circle-lower{fill:rgba(255,255,255,.85)}.otm-theme.elevation-polyline{stroke:#ff1010;stroke-opacity:1;stroke-width:1}.otm-theme.elevation-polyline-segments{stroke:#ff1010;stroke-width:1;stroke-dasharray:4}.elevation-control.elevation{margin-left:52px;margin-right:14px}.elevation-control.elevation .background{background-color:rgba(255,255,255,.85);border:2px solid rgba(0,0,0,.2);width:100% !important;height:100% !important}.elevation-control.elevation.elevation-expanded .elevation-toggle-icon.close-button{box-shadow:none}.elevation-control.elevation .elevation-toggle-icon{background-color:#fff !important;background:url('+C+") no-repeat center center;background-size:24px auto;border-radius:2px;width:30px;height:30px}",""]);const z=g},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,o){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(o)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(n[r]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);o&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},6630:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/elevation-lime.svg"},2114:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/elevation-position.svg"},8020:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/elevation-purple.svg"},732:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/elevation-pushpin.svg"},8189:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/elevation-steelblue.svg"},1988:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/elevation.svg"},1777:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/remove.svg"},6268:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/layers-2x.png"},5443:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/layers.png"},7062:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/marker-icon-2x.png"},1090:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/marker-icon.png"},8281:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/marker-shadow.png"},674:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/f-checker.svg"},4869:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/f-de.svg"},551:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/f-en.svg"},9109:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/f-es.svg"},9888:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/f-fr.svg"},5491:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"i/f-it.svg"},5245:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-elevation.svg"},7823:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-marker-w.svg"},6291:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-marker.svg"},4258:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-search-w.svg"},6923:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-search.svg"},9637:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-target-w.svg"},9144:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-target.svg"},1784:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/icon-waypoints.svg"},1398:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/logo-otm-full.png"},1564:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});const o=i.p+"i/logo-otm-square.png"},6606:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});const o=i.p+"favicon.ico"},6808:(t,e,i)=>{var o,n,a;void 0===(n="function"==typeof(o=a=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var o in i)e[o]=i[o]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(o){function n(){}function a(e,i,a){if("undefined"!=typeof document){"number"==typeof(a=t({path:"/"},n.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var r=JSON.stringify(i);/^[\{\[]/.test(r)&&(i=r)}catch(t){}i=o.write?o.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,!0!==a[l]&&(s+="="+a[l].split(";")[0]));return document.cookie=e+"="+i+s}}function r(t,i){if("undefined"!=typeof document){for(var n={},a=document.cookie?document.cookie.split("; "):[],r=0;r<a.length;r++){var s=a[r].split("="),l=s.slice(1).join("=");i||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var h=e(s[0]);if(l=(o.read||o)(l,h)||e(l),i)try{l=JSON.parse(l)}catch(t){}if(n[h]=l,t===h)break}catch(t){}}return t?n[t]:n}}return n.set=a,n.get=function(t){return r(t,!1)},n.getJSON=function(t){return r(t,!0)},n.remove=function(e,i){a(e,"",t(i,{expires:-1}))},n.defaults={},n.withConverter=i,n}((function(){}))})?o.call(e,i,e,t):o)||(t.exports=n),t.exports=a()},6128:(t,e,i)=>{var o,n,a=i(7520),r=i(5243);!function(s,l){a?(o=[i(5243)],void 0===(n=function(t){s(t,a)}.apply(e,o))||(t.exports=n)):t.exports?t.exports=function(t,e,o){return void 0===e&&(e=void 0!==l?i(5243):i(5243)(t)),void 0===o&&(o=void 0!==l?i(7520):i(7520)(t)),s(e,o),e}:void 0!==l&&r&&a&&s(r,a)}((function(t,e){var i=t.Layer.extend({options:{layer:t.geoJson,layerOptions:{},fileSizeLimit:1024},initialize:function(e,i){this._map=e,t.Util.setOptions(this,i),this._parsers={geojson:this._loadGeoJSON,json:this._loadGeoJSON,gpx:this._convertToGeoJSON,kml:this._convertToGeoJSON}},load:function(e,i){var o,n;return!this._isParameterMissing(e,"file")&&!!this._isFileSizeOk(e.size)&&!!(o=this._getParser(e.name,i))&&((n=new FileReader).onload=t.Util.bind((function(t){var i;try{this.fire("data:loading",{filename:e.name,format:o.ext}),i=o.processor.call(this,t.target.result,o.ext),this.fire("data:loaded",{layer:i,filename:e.name,format:o.ext})}catch(t){this.fire("data:error",{error:t})}}),this),e.testing||n.readAsText(e),n)},loadMultiple:function(t,e){var i=[];if(t[0])for(t=Array.prototype.slice.apply(t);t.length>0;)i.push(this.load(t.shift(),e));return i},loadData:function(t,e,i){var o,n;if(!this._isParameterMissing(t,"data")&&!this._isParameterMissing(e,"name")&&this._isFileSizeOk(t.length)&&(o=this._getParser(e,i)))try{this.fire("data:loading",{filename:e,format:o.ext}),n=o.processor.call(this,t,o.ext),this.fire("data:loaded",{layer:n,filename:e,format:o.ext})}catch(t){this.fire("data:error",{error:t})}},_isParameterMissing:function(t,e){return void 0===t&&(this.fire("data:error",{error:new Error("Missing parameter: "+e)}),!0)},_getParser:function(t,e){var i;if(e=e||t.split(".").pop(),i=this._parsers[e])return{processor:i,ext:e};this.fire("data:error",{error:new Error("Unsupported file type ("+e+")")})},_isFileSizeOk:function(t){var e=(t/1024).toFixed(4);return!(e>this.options.fileSizeLimit&&(this.fire("data:error",{error:new Error("File size exceeds limit ("+e+" > "+this.options.fileSizeLimit+"kb)")}),1))},_loadGeoJSON:function(t){var e;if("string"==typeof t&&(t=JSON.parse(t)),0===(e=this.options.layer(t,this.options.layerOptions)).getLayers().length)throw new Error("GeoJSON has no valid layers.");return this.options.addToMap&&e.addTo(this._map),e},_convertToGeoJSON:function(t,i){var o;return"string"==typeof t&&(t=(new window.DOMParser).parseFromString(t,"text/xml")),o=e[i](t),this._loadGeoJSON(o)}}),o=t.Control.extend({statics:{TITLE:"Load local file (GPX, KML, GeoJSON)",LABEL:"&#8965;"},options:{position:"topleft",fitBounds:!0,layerOptions:{},addToMap:!0,fileSizeLimit:1024},initialize:function(e){t.Util.setOptions(this,e),this.loader=null},onAdd:function(e){return this.loader=t.FileLayer.fileLoader(e,this.options),this.loader.on("data:loaded",(function(t){this.options.fitBounds&&window.setTimeout((function(){e.fitBounds(t.layer.getBounds())}),500)}),this),this._initDragAndDrop(e),this._initContainer()},_initDragAndDrop:function(t){var e,i=this.loader,o=t._container,n={dragenter:function(){t.scrollWheelZoom.disable()},dragleave:function(){t.scrollWheelZoom.enable()},dragover:function(t){t.stopPropagation(),t.preventDefault()},drop:function(e){e.stopPropagation(),e.preventDefault(),i.loadMultiple(e.dataTransfer.files),t.scrollWheelZoom.enable()}};for(e in n)n.hasOwnProperty(e)&&o.addEventListener(e,n[e],!1)},_initContainer:function(){var e,i=this.loader,o="leaflet-control-filelayer leaflet-control-zoom",n=t.DomUtil.create("div",o+" leaflet-bar"),a=t.DomUtil.create("a",o+"-in leaflet-bar-part",n);return a.innerHTML=t.Control.FileLayerLoad.LABEL,a.href="#",a.title=t.Control.FileLayerLoad.TITLE,(e=t.DomUtil.create("input","hidden",n)).type="file",e.multiple="multiple",this.options.formats?e.accept=this.options.formats.join(","):e.accept=".gpx,.kml,.json,.geojson",e.style.display="none",e.addEventListener("change",(function(){i.loadMultiple(this.files),this.value=""}),!1),t.DomEvent.disableClickPropagation(a),t.DomEvent.on(a,"click",(function(t){e.click(),t.preventDefault()})),n}});t.FileLayer={},t.FileLayer.FileLoader=i,t.FileLayer.fileLoader=function(e,i){return new t.FileLayer.FileLoader(e,i)},t.Control.FileLayerLoad=o,t.Control.fileLayerLoad=function(e){return new t.Control.FileLayerLoad(e)}}),window)},5369:(t,e,i)=>{var o,n,a,r=i(5243);!function(s,l){n=[i(5243)],void 0===(a="function"==typeof(o=s)?o.apply(e,n):o)||(t.exports=a),void 0!==l&&r&&s(r)}((function(t){return t.locales={},t.locale=null,t.registerLocale=function(e,i){t.locales[e]=t.Util.extend({},t.locales[e],i)},t.setLocale=function(e){t.locale=e},t.i18n=t._=function(e,i){t.locale&&t.locales[t.locale]&&t.locales[t.locale][e]&&(e=t.locales[t.locale][e]);try{e=t.Util.template(e,i)}catch(t){}return e}}),window)},5243:function(t,e,i){var o=i(5243),n=i(5243);!function(t){"use strict";function e(t){var e,i,o,n;for(i=1,o=arguments.length;i<o;i++)for(e in n=arguments[i])t[e]=n[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function a(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var o=i.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(i.call(arguments)):arguments)}}var r=0;function s(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function l(t,e,i){var o,n,a,r;return r=function(){o=!1,n&&(a.apply(i,n),n=!1)},a=function(){o?n=arguments:(t.apply(i,arguments),setTimeout(r,e),o=!0)}}function h(t,e,i){var o=e[1],n=e[0],a=o-n;return t===o&&i?t:((t-n)%a+a)%a+n}function c(){return!1}function u(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function d(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return d(t).split(/\s+/)}function f(t,e){for(var o in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[o]=e[o];return t.options}function m(t,e,i){var o=[];for(var n in t)o.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var _=/\{ *([\w_-]+) *\}/g;function g(t,e){return t.replace(_,(function(t,i){var o=e[i];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function L(t){var e=+new Date,i=Math.max(0,16-(e-w));return w=e+i,window.setTimeout(t,i)}var k=window.requestAnimationFrame||b("RequestAnimationFrame")||L,P=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,i){if(!i||k!==L)return k.call(window,a(t,e));t.call(e)}function C(t){t&&P.call(window,t)}var z={extend:e,create:i,bind:a,lastId:r,stamp:s,throttle:l,wrapNum:h,falseFn:c,formatNum:u,trim:d,splitWords:p,setOptions:f,getParamString:m,template:g,isArray:v,indexOf:y,emptyImageUrl:x,requestFn:k,cancelFn:P,requestAnimFrame:T,cancelAnimFrame:C};function M(){}M.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=n.__super__=this.prototype,r=i(a);for(var s in r.constructor=n,n.prototype=r,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(n[s]=this[s]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(function(t){if(void 0!==o&&o&&o.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===o.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(i(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},n},M.include=function(t){return e(this.prototype,t),this},M.mergeOptions=function(t){return e(this.prototype.options,t),this},M.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var S={on:function(t,e,i){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else for(var n=0,a=(t=p(t)).length;n<a;n++)this._on(t[n],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else for(var n=0,a=(t=p(t)).length;n<a;n++)this._off(t[n],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),i===this&&(i=void 0);for(var n={fn:e,ctx:i},a=o,r=0,s=a.length;r<s;r++)if(a[r].fn===e&&a[r].ctx===i)return;a.push(n)},_off:function(t,e,i){var o,n,a;if(this._events&&(o=this._events[t]))if(e){if(i===this&&(i=void 0),o)for(n=0,a=o.length;n<a;n++){var r=o[n];if(r.ctx===i&&r.fn===e)return r.fn=c,this._firingCount&&(this._events[t]=o=o.slice()),void o.splice(n,1)}}else{for(n=0,a=o.length;n<a;n++)o[n].fn=c;delete this._events[t]}},fire:function(t,i,o){if(!this.listens(t,o))return this;var n=e({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var a=this._events[t];if(a){this._firingCount=this._firingCount+1||1;for(var r=0,s=a.length;r<s;r++){var l=a[r];l.fn.call(l.ctx||this,n)}this._firingCount--}}return o&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var o in this._eventParents)if(this._eventParents[o].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var n=a((function(){this.off(t,e,i).off(t,n,i)}),this);return this.on(t,e,i).on(t,n,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};S.addEventListener=S.on,S.removeEventListener=S.clearAllEventListeners=S.off,S.addOneTimeEventListener=S.once,S.fireEvent=S.fire,S.hasEventListeners=S.listens;var E=M.extend(S);function A(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var O=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function B(t,e,i){return t instanceof A?t:v(t)?new A(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,i)}function Z(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])}function I(t,e){return!t||t instanceof Z?t:new Z(t,e)}function D(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])}function N(t,e){return t instanceof D?t:new D(t,e)}function R(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function F(t,e,i){return t instanceof R?t:v(t)&&"object"!=typeof t[0]?3===t.length?new R(t[0],t[1],t[2]):2===t.length?new R(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new R(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new R(t,e,i)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(B(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(B(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(t){var e=(t=B(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=B(t)).x===this.x&&t.y===this.y},contains:function(t){return t=B(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},Z.prototype={extend:function(t){return t=B(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof A?B(t):I(t))instanceof Z?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=I(t);var e=this.min,i=this.max,o=t.min,n=t.max,a=n.x>=e.x&&o.x<=i.x,r=n.y>=e.y&&o.y<=i.y;return a&&r},overlaps:function(t){t=I(t);var e=this.min,i=this.max,o=t.min,n=t.max,a=n.x>e.x&&o.x<i.x,r=n.y>e.y&&o.y<i.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(t){var e,i,o=this._southWest,n=this._northEast;if(t instanceof R)e=t,i=t;else{if(!(t instanceof D))return t?this.extend(F(t)||N(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return o||n?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),n.lat=Math.max(i.lat,n.lat),n.lng=Math.max(i.lng,n.lng)):(this._southWest=new R(e.lat,e.lng),this._northEast=new R(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,n=Math.abs(e.lng-i.lng)*t;return new D(new R(e.lat-o,e.lng-n),new R(i.lat+o,i.lng+n))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof R||"lat"in t?F(t):N(t);var e,i,o=this._southWest,n=this._northEast;return t instanceof D?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=o.lat&&i.lat<=n.lat&&e.lng>=o.lng&&i.lng<=n.lng},intersects:function(t){t=N(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),a=n.lat>=e.lat&&o.lat<=i.lat,r=n.lng>=e.lng&&o.lng<=i.lng;return a&&r},overlaps:function(t){t=N(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),a=n.lat>e.lat&&o.lat<i.lat,r=n.lng>e.lng&&o.lng<i.lng;return a&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=N(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},R.prototype={equals:function(t,e){return!!t&&(t=F(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,F(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return N([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new R(this.lat,this.lng,this.alt)}};var j,U={latLngToPoint:function(t,e){var i=this.projection.project(t),o=this.scale(e);return this.transformation._transform(i,o)},pointToLatLng:function(t,e){var i=this.scale(e),o=this.transformation.untransform(t,i);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new Z(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?h(t.lng,this.wrapLng,!0):t.lng;return new R(this.wrapLat?h(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),o=e.lat-i.lat,n=e.lng-i.lng;if(0===o&&0===n)return t;var a=t.getSouthWest(),r=t.getNorthEast();return new D(new R(a.lat-o,a.lng-n),new R(r.lat-o,r.lng-n))}},H=e({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,o=t.lat*i,n=e.lat*i,a=Math.sin((e.lat-t.lat)*i/2),r=Math.sin((e.lng-t.lng)*i/2),s=a*a+Math.cos(o)*Math.cos(n)*r*r,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),W=6378137,V={R:W,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),n=Math.sin(o*e);return new A(this.R*t.lng*e,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(t){var e=180/Math.PI;return new R((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(j=W*Math.PI,new Z([-j,-j],[j,j]))};function G(t,e,i,o){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=o}function q(t,e,i,o){return new G(t,e,i,o)}G.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y=e({},H,{code:"EPSG:3857",projection:V,transformation:function(){var t=.5/(Math.PI*V.R);return q(t,.5,-t,.5)}()}),X=e({},Y,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,e){var i,o,n,a,r,s,l="";for(i=0,n=t.length;i<n;i++){for(o=0,a=(r=t[i]).length;o<a;o++)l+=(o?"L":"M")+(s=r[o]).x+" "+s.y;l+=e?Mt?"z":"x":""}return l||"M0 0"}var $=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),it=Et("webkit"),ot=Et("android"),nt=Et("android 2")||Et("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=ot&&Et("Google")&&at<537&&!("AudioNode"in window),st=!!window.opera,lt=!et&&Et("chrome"),ht=Et("gecko")&&!it&&!st&&!Q,ct=!lt&&Et("safari"),ut=Et("phantom"),dt="OTransition"in $,pt=0===navigator.platform.indexOf("Win"),ft=Q&&"transition"in $,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,_t="MozPerspective"in $,gt=!window.L_DISABLE_3D&&(ft||mt||_t)&&!dt&&!ut,vt="undefined"!=typeof orientation||Et("mobile"),yt=vt&&it,xt=vt&&mt,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!bt),Lt=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),kt=vt&&st,Pt=vt&&ht,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ct=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(t){}return t}(),zt=!!document.createElement("canvas").getContext,Mt=!(!document.createElementNS||!J("svg").createSVGRect),St=!Mt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Et(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var At={ie:Q,ielt9:tt,edge:et,webkit:it,android:ot,android23:nt,androidStock:rt,opera:st,chrome:lt,gecko:ht,safari:ct,phantom:ut,opera12:dt,win:pt,ie3d:ft,webkit3d:mt,gecko3d:_t,any3d:gt,mobile:vt,mobileWebkit:yt,mobileWebkit3d:xt,msPointer:bt,pointer:wt,touch:Lt,mobileOpera:kt,mobileGecko:Pt,retina:Tt,passiveEvents:Ct,canvas:zt,svg:Mt,vml:St},Ot=bt?"MSPointerDown":"pointerdown",Bt=bt?"MSPointerMove":"pointermove",Zt=bt?"MSPointerUp":"pointerup",It=bt?"MSPointerCancel":"pointercancel",Dt={},Nt=!1;function Rt(t,e,i,o){return"touchstart"===e?function(t,e,i){var o=a((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ie(t),Ht(t,e)}));t["_leaflet_touchstart"+i]=o,t.addEventListener(Ot,o,!1),Nt||(document.addEventListener(Ot,Ft,!0),document.addEventListener(Bt,jt,!0),document.addEventListener(Zt,Ut,!0),document.addEventListener(It,Ut,!0),Nt=!0)}(t,i,o):"touchmove"===e?function(t,e,i){var o=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Ht(t,e)};t["_leaflet_touchmove"+i]=o,t.addEventListener(Bt,o,!1)}(t,i,o):"touchend"===e&&function(t,e,i){var o=function(t){Ht(t,e)};t["_leaflet_touchend"+i]=o,t.addEventListener(Zt,o,!1),t.addEventListener(It,o,!1)}(t,i,o),this}function Ft(t){Dt[t.pointerId]=t}function jt(t){Dt[t.pointerId]&&(Dt[t.pointerId]=t)}function Ut(t){delete Dt[t.pointerId]}function Ht(t,e){for(var i in t.touches=[],Dt)t.touches.push(Dt[i]);t.changedTouches=[t],e(t)}var Wt=bt?"MSPointerDown":wt?"pointerdown":"touchstart",Vt=bt?"MSPointerUp":wt?"pointerup":"touchend",Gt="_leaflet_";var qt,Yt,Xt,Jt,Kt,$t=fe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qt=fe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),te="webkitTransition"===Qt||"OTransition"===Qt?Qt+"End":"transitionend";function ee(t){return"string"==typeof t?document.getElementById(t):t}function ie(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"auto"===i?null:i}function oe(t,e,i){var o=document.createElement(t);return o.className=e||"",i&&i.appendChild(o),o}function ne(t){var e=t.parentNode;e&&e.removeChild(t)}function ae(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function re(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function se(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function le(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=de(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function he(t,e){if(void 0!==t.classList)for(var i=p(e),o=0,n=i.length;o<n;o++)t.classList.add(i[o]);else if(!le(t,e)){var a=de(t);ue(t,(a?a+" ":"")+e)}}function ce(t,e){void 0!==t.classList?t.classList.remove(e):ue(t,d((" "+de(t)+" ").replace(" "+e+" "," ")))}function ue(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function de(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function pe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}(t,e)}function fe(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function me(t,e,i){var o=e||new A(0,0);t.style[$t]=(ft?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(i?" scale("+i+")":"")}function _e(t,e){t._leaflet_pos=e,gt?me(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ge(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)qt=function(){Te(window,"selectstart",Ie)},Yt=function(){ze(window,"selectstart",Ie)};else{var ve=fe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qt=function(){if(ve){var t=document.documentElement.style;Xt=t[ve],t[ve]="none"}},Yt=function(){ve&&(document.documentElement.style[ve]=Xt,Xt=void 0)}}function ye(){Te(window,"dragstart",Ie)}function xe(){ze(window,"dragstart",Ie)}function be(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(we(),Jt=t,Kt=t.style.outline,t.style.outline="none",Te(window,"keydown",we))}function we(){Jt&&(Jt.style.outline=Kt,Jt=void 0,Kt=void 0,ze(window,"keydown",we))}function Le(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function ke(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Pe={TRANSFORM:$t,TRANSITION:Qt,TRANSITION_END:te,get:ee,getStyle:ie,create:oe,remove:ne,empty:ae,toFront:re,toBack:se,hasClass:le,addClass:he,removeClass:ce,setClass:ue,getClass:de,setOpacity:pe,testProp:fe,setTransform:me,setPosition:_e,getPosition:ge,disableTextSelection:qt,enableTextSelection:Yt,disableImageDrag:ye,enableImageDrag:xe,preventOutline:be,restoreOutline:we,getSizedParentNode:Le,getScale:ke};function Te(t,e,i,o){if("object"==typeof e)for(var n in e)Ee(t,n,e[n],i);else for(var a=0,r=(e=p(e)).length;a<r;a++)Ee(t,e[a],i,o);return this}var Ce="_leaflet_events";function ze(t,e,i,o){if("object"==typeof e)for(var n in e)Ae(t,n,e[n],i);else if(e)for(var a=0,r=(e=p(e)).length;a<r;a++)Ae(t,e[a],i,o);else{for(var s in t[Ce])Ae(t,s,t[Ce][s]);delete t[Ce]}return this}function Me(){if(wt)return!(et||ct)}var Se={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ee(t,e,i,o){var n=e+s(i)+(o?"_"+s(o):"");if(t[Ce]&&t[Ce][n])return this;var a=function(e){return i.call(o||t,e||window.event)},r=a;wt&&0===e.indexOf("touch")?Rt(t,e,a,n):Lt&&"dblclick"===e&&!Me()?function(t,e,i){var o,n,a=!1;function r(t){if(wt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),i=e-(o||e);n=t.touches?t.touches[0]:t,a=i>0&&i<=250,o=e}function s(t){if(a&&!n.cancelBubble){if(wt){if("mouse"===t.pointerType)return;var i,r,s={};for(r in n)i=n[r],s[r]=i&&i.bind?i.bind(n):i;n=s}n.type="dblclick",n.button=0,e(n),o=null}}t[Gt+Wt+i]=r,t[Gt+Vt+i]=s,t[Gt+"dblclick"+i]=e,t.addEventListener(Wt,r,!!Ct&&{passive:!1}),t.addEventListener(Vt,s,!!Ct&&{passive:!1}),t.addEventListener("dblclick",e,!1)}(t,a,n):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Se[e]||e,a,!!Ct&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,We(t,e)&&r(e)},t.addEventListener(Se[e],a,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,a),t[Ce]=t[Ce]||{},t[Ce][n]=a}function Ae(t,e,i,o){var n=e+s(i)+(o?"_"+s(o):""),a=t[Ce]&&t[Ce][n];if(!a)return this;wt&&0===e.indexOf("touch")?function(t,e,i){var o=t["_leaflet_"+e+i];"touchstart"===e?t.removeEventListener(Ot,o,!1):"touchmove"===e?t.removeEventListener(Bt,o,!1):"touchend"===e&&(t.removeEventListener(Zt,o,!1),t.removeEventListener(It,o,!1))}(t,e,n):Lt&&"dblclick"===e&&!Me()?function(t,e){var i=t[Gt+Wt+e],o=t[Gt+Vt+e],n=t[Gt+"dblclick"+e];t.removeEventListener(Wt,i,!!Ct&&{passive:!1}),t.removeEventListener(Vt,o,!!Ct&&{passive:!1}),t.removeEventListener("dblclick",n,!1)}(t,n):"removeEventListener"in t?t.removeEventListener(Se[e]||e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[Ce][n]=null}function Oe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,He(t),this}function Be(t){return Ee(t,"wheel",Oe),this}function Ze(t){return Te(t,"mousedown touchstart dblclick",Oe),Ee(t,"click",Ue),this}function Ie(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function De(t){return Ie(t),Oe(t),this}function Ne(t,e){if(!e)return new A(t.clientX,t.clientY);var i=ke(e),o=i.boundingClientRect;return new A((t.clientX-o.left)/i.x-e.clientLeft,(t.clientY-o.top)/i.y-e.clientTop)}var Re=pt&&lt?2*window.devicePixelRatio:ht?window.devicePixelRatio:1;function Fe(t){return et?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Re:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var je={};function Ue(t){je[t.type]=!0}function He(t){var e=je[t.type];return je[t.type]=!1,e}function We(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var Ve={on:Te,off:ze,stopPropagation:Oe,disableScrollPropagation:Be,disableClickPropagation:Ze,preventDefault:Ie,stop:De,getMousePosition:Ne,getWheelDelta:Fe,fakeStop:Ue,skipped:He,isExternalTarget:We,addListener:Te,removeListener:ze},Ge=E.extend({run:function(t,e,i,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=ge(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),_e(this._el,i),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),qe=E.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(F(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qt&&gt&&!kt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,te,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,o){return i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(F(t),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&!0!==o&&(void 0!==o.animate&&(o.zoom=e({animate:o.animate},o.zoom),o.pan=e({animate:o.animate,duration:o.duration},o.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,o.zoom):this._tryAnimatedPan(t,o.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,i),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var o=this.getZoomScale(e),n=this.getSize().divideBy(2),a=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(n).multiplyBy(1-1/o),r=this.containerPointToLatLng(n.add(a));return this.setView(r,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():N(t);var i=B(e.paddingTopLeft||e.padding||[0,0]),o=B(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(t,!1,i.add(o));if((n="number"==typeof e.maxZoom?Math.min(e.maxZoom,n):n)===1/0)return{center:t.getCenter(),zoom:n};var a=o.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),n),s=this.project(t.getNorthEast(),n);return{center:this.unproject(r.add(s).divideBy(2).add(a),n),zoom:n}},fitBounds:function(t,e){if(!(t=N(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=B(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ge,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){he(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!gt)return this.setView(t,e,i);this._stop();var o=this.project(this.getCenter()),n=this.project(t),a=this.getSize(),r=this._zoom;t=F(t),e=void 0===e?r:e;var s=Math.max(a.x,a.y),l=s*this.getZoomScale(r,e),h=n.distanceTo(o)||1,c=1.42,u=2.0164;function d(t){var e=(l*l-s*s+(t?-1:1)*u*u*h*h)/(2*(t?l:s)*u*h),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);function _(t){return s*(f(m)*(p(e=m+c*t)/f(e))-p(m))/u;var e}var g=Date.now(),v=(d(1)-m)/c,y=i.duration?1e3*i.duration:1e3*v*.8;return this._moveStart(!0,i.noMoveStart),function i(){var a=(Date.now()-g)/y,l=function(t){return 1-Math.pow(1-t,1.5)}(a)*v;a<=1?(this._flyToFrame=T(i,this),this._move(this.unproject(o.add(n.subtract(o).multiplyBy(_(l)/h)),r),this.getScaleZoom(s/function(t){return s*(f(m)/f(m+c*t))}(l),r),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=N(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),o=this._limitCenter(i,this._zoom,N(t));return i.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=B((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=B(e.paddingBottomRight||e.padding||[0,0]),n=this.getCenter(),a=this.project(n),r=this.project(t),s=this.getPixelBounds(),l=s.getSize().divideBy(2),h=I([s.min.add(i),s.max.subtract(o)]);if(!h.contains(r)){this._enforcingBounds=!0;var c=a.subtract(r),u=B(r.x+c.x,r.y+c.y);(r.x<h.min.x||r.x>h.max.x)&&(u.x=a.x-c.x,c.x>0?u.x+=l.x-i.x:u.x-=l.x-o.x),(r.y<h.min.y||r.y>h.max.y)&&(u.y=a.y-c.y,c.y>0?u.y+=l.y-i.y:u.y-=l.y-o.y),this.panTo(this.unproject(u),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),n=i.divideBy(2).round(),r=o.divideBy(2).round(),s=n.subtract(r);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=a(this._handleGeolocationResponse,this),o=a(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new R(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var n=this.getBoundsZoom(i);this.setView(e,o.maxZoom?Math.min(n,o.maxZoom):n)}var a={latlng:e,bounds:i,timestamp:t.timestamp};for(var r in t.coords)"number"==typeof t.coords[r]&&(a[r]=t.coords[r]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ne(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=oe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new D(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=N(t),i=B(i||[0,0]);var o=this.getZoom()||0,n=this.getMinZoom(),a=this.getMaxZoom(),r=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(i),h=I(this.project(s,o),this.project(r,o)).getSize(),c=gt?this.options.zoomSnap:1,u=l.x/h.x,d=l.y/h.y,p=e?Math.max(u,d):Math.min(u,d);return o=this.getScaleZoom(p,o),c&&(o=Math.round(o/(c/100))*(c/100),o=e?Math.ceil(o/c)*c:Math.floor(o/c)*c),Math.max(n,Math.min(a,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new Z(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var o=i.zoom(t*i.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(F(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(B(t),e)},layerPointToLatLng:function(t){var e=B(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(F(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(F(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(N(t))},distance:function(t,e){return this.options.crs.distance(F(t),F(e))},containerPointToLayerPoint:function(t){return B(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return B(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(B(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(t)))},mouseEventToContainerPoint:function(t){return Ne(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ee(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Te(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt,he(t,"leaflet-container"+(Lt?" leaflet-touch":"")+(Tt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ie(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(t.markerPane,"leaflet-zoom-hide"),he(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){_e(this._mapPane,new A(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,!1)._move(t,e)._moveEnd(o),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){_e(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?ze:Te;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),gt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,o=[],n="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,r=!1;a;){if((i=this._targets[s(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){r=!0;break}if(i&&i.listens(e,!0)){if(n&&!We(a,t))break;if(o.push(i),n)break}if(a===this._container)break;a=a.parentNode}return o.length||r||n||!We(a,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!He(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||be(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,o){if("click"===t.type){var n=e({},t);n.type="preclick",this._fireDOMEvent(n,n.type,o)}if(!t._stopped&&(o=(o||[]).concat(this._findEventTargets(t,i))).length){var a=o[0];"contextmenu"===i&&a.listens(i,!0)&&Ie(t);var r={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var s=a.getLatLng&&(!a._radius||a._radius<=10);r.containerPoint=s?this.latLngToContainerPoint(a.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=s?a.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var l=0;l<o.length;l++)if(o[l].fire(i,r,!0),r.originalEvent._stopped||!1===o[l].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ge(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return I([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var o=this.project(t,e),n=this.getSize().divideBy(2),a=new Z(o.subtract(n),o.add(n)),r=this._getBoundsOffset(a,i,e);return r.round().equals([0,0])?t:this.unproject(o.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),o=new Z(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,i){var o=I(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),n=o.min.subtract(t.min),a=o.max.subtract(t.max);return new A(this._rebound(n.x,-a.x),this._rebound(n.y,-a.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),o=gt?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=$t,i=this._proxy.style[e];me(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();me(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==i.animate&&!this.getSize().contains(n)||(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T((function(){this._moveEnd(!0)}),this))}});var Ye=M.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return he(e,"leaflet-control"),-1!==i.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Xe=function(t){return new Ye(t)};qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=oe("div",e+"control-container",this._container);function o(o,n){var a=e+o+" "+e+n;t[o+n]=oe("div",a,i)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ne(this._controlCorners[t]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Je=Ye.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,o){return i<o?-1:o<i?1:0}},initialize:function(t,e,i){for(var o in f(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ye.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(he(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ze(e),Be(e);var o=this._section=oe("section",t+"-list");i&&(this._map.on("click",this.collapse,this),ot||Te(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var n=this._layersLink=oe("a",t+"-toggle",e);n.href="#",n.title="Layers",Lt?(Te(n,"click",De),Te(n,"click",this.expand,this)):Te(n,"focus",this.expand,this),i||this.expand(),this._baseLayersList=oe("div",t+"-base",o),this._separator=oe("div",t+"-separator",o),this._overlaysList=oe("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(a((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ae(this._baseLayersList),ae(this._overlaysList),this._layerControlInputs=[];var t,e,i,o,n=0;for(i=0;i<this._layers.length;i++)o=this._layers[i],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,n+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&n>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e,i=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+s(this),o),this._layerControlInputs.push(e),e.layerId=s(t.layer),Te(e,"click",this._onInputClick,this);var n=document.createElement("span");n.innerHTML=" "+t.name;var a=document.createElement("div");return i.appendChild(a),a.appendChild(e),a.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,o=[],n=[];this._handlingClick=!0;for(var a=i.length-1;a>=0;a--)t=i[a],e=this._getLayer(t.layerId).layer,t.checked?o.push(e):t.checked||n.push(e);for(a=0;a<n.length;a++)this._map.hasLayer(n[a])&&this._map.removeLayer(n[a]);for(a=0;a<o.length;a++)this._map.hasLayer(o[a])||this._map.addLayer(o[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,o=this._map.getZoom(),n=i.length-1;n>=0;n--)t=i[n],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ke=Ye.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=oe("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,o,n){var a=oe("a",i,o);return a.innerHTML=t,a.href="#",a.title=e,a.setAttribute("role","button"),a.setAttribute("aria-label",e),Ze(a),Te(a,"click",De),Te(a,"click",n,this),Te(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ce(this._zoomInButton,e),ce(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&he(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&he(this._zoomInButton,e)}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Ke,this.addControl(this.zoomControl))}));var $e=Ye.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=oe("div",e),o=this.options;return this._addScales(o,e+"-line",i),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=oe("div",e,i)),t.imperial&&(this._iScale=oe("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,o,n=3.2808399*t;n>5280?(e=n/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(o=this._getRoundNum(n),this._updateScale(this._iScale,o+" ft",o/n))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Qe=Ye.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Ze(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook((function(){this.options.attributionControl&&(new Qe).addTo(this)}));Ye.Layers=Je,Ye.Zoom=Ke,Ye.Scale=$e,Ye.Attribution=Qe,Xe.layers=function(t,e,i){return new Je(t,e,i)},Xe.zoom=function(t){return new Ke(t)},Xe.scale=function(t){return new $e(t)},Xe.attribution=function(t){return new Qe(t)};var ti=M.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ti.addTo=function(t,e){return t.addHandler(e,this),this};var ei,ii={Events:S},oi=Lt?"touchstart mousedown":"mousedown",ni={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ai={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ri=E.extend({options:{clickTolerance:3},initialize:function(t,e,i,o){f(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Te(this._dragStartTarget,oi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(),ze(this._dragStartTarget,oi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim")&&!(ri._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ri._dragging=this,this._preventOutline&&be(this._element),ye(),qt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,i=Le(this._element);this._startPoint=new A(e.clientX,e.clientY),this._parentScale=ke(i),Te(document,ai[t.type],this._onMove,this),Te(document,ni[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new A(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Ie(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ge(this._element).subtract(i),he(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,C(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),_e(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ce(document.body,"leaflet-dragging"),this._lastTarget&&(ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ai)ze(document,ai[t],this._onMove,this),ze(document,ni[t],this._onUp,this);xe(),Yt(),this._moved&&this._moving&&(C(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ri._dragging=!1}});function si(t,e){if(!e||!t.length)return t.slice();var i=e*e;return function(t,e){var i=t.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);o[0]=o[i-1]=1,hi(t,o,e,0,i-1);var n,a=[];for(n=0;n<i;n++)o[n]&&a.push(t[n]);return a}(t=function(t,e){for(var i=[t[0]],o=1,n=0,a=t.length;o<a;o++)pi(t[o],t[n])>e&&(i.push(t[o]),n=o);return n<a-1&&i.push(t[a-1]),i}(t,i),i)}function li(t,e,i){return Math.sqrt(fi(t,e,i,!0))}function hi(t,e,i,o,n){var a,r,s,l=0;for(r=o+1;r<=n-1;r++)(s=fi(t[r],t[o],t[n],!0))>l&&(a=r,l=s);l>i&&(e[a]=1,hi(t,e,i,o,a),hi(t,e,i,a,n))}function ci(t,e,i,o,n){var a,r,s,l=o?ei:di(t,i),h=di(e,i);for(ei=h;;){if(!(l|h))return[t,e];if(l&h)return!1;s=di(r=ui(t,e,a=l||h,i,n),i),a===l?(t=r,l=s):(e=r,h=s)}}function ui(t,e,i,o,n){var a,r,s=e.x-t.x,l=e.y-t.y,h=o.min,c=o.max;return 8&i?(a=t.x+s*(c.y-t.y)/l,r=c.y):4&i?(a=t.x+s*(h.y-t.y)/l,r=h.y):2&i?(a=c.x,r=t.y+l*(c.x-t.x)/s):1&i&&(a=h.x,r=t.y+l*(h.x-t.x)/s),new A(a,r,n)}function di(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function pi(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o}function fi(t,e,i,o){var n,a=e.x,r=e.y,s=i.x-a,l=i.y-r,h=s*s+l*l;return h>0&&((n=((t.x-a)*s+(t.y-r)*l)/h)>1?(a=i.x,r=i.y):n>0&&(a+=s*n,r+=l*n)),s=t.x-a,l=t.y-r,o?s*s+l*l:new A(a,r)}function mi(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function _i(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mi(t)}var gi={simplify:si,pointToSegmentDistance:li,closestPointOnSegment:function(t,e,i){return fi(t,e,i)},clipSegment:ci,_getEdgeIntersection:ui,_getBitCode:di,_sqClosestPointOnSegment:fi,isFlat:mi,_flat:_i};function vi(t,e,i){var o,n,a,r,s,l,h,c,u,d=[1,4,2,8];for(n=0,h=t.length;n<h;n++)t[n]._code=di(t[n],e);for(r=0;r<4;r++){for(c=d[r],o=[],n=0,a=(h=t.length)-1;n<h;a=n++)s=t[n],l=t[a],s._code&c?l._code&c||((u=ui(l,s,c,e,i))._code=di(u,e),o.push(u)):(l._code&c&&((u=ui(l,s,c,e,i))._code=di(u,e),o.push(u)),o.push(s));t=o}return t}var yi={clipPolygon:vi},xi={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new R(t.y,t.x)},bounds:new Z([-180,-90],[180,90])},bi={R:6378137,R_MINOR:6356752.314245179,bounds:new Z([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,o=t.lat*e,n=this.R_MINOR/i,a=Math.sqrt(1-n*n),r=a*Math.sin(o),s=Math.tan(Math.PI/4-o/2)/Math.pow((1-r)/(1+r),a/2);return o=-i*Math.log(Math.max(s,1e-10)),new A(t.lng*e*i,o)},unproject:function(t){for(var e,i=180/Math.PI,o=this.R,n=this.R_MINOR/o,a=Math.sqrt(1-n*n),r=Math.exp(-t.y/o),s=Math.PI/2-2*Math.atan(r),l=0,h=.1;l<15&&Math.abs(h)>1e-7;l++)e=a*Math.sin(s),e=Math.pow((1-e)/(1+e),a/2),s+=h=Math.PI/2-2*Math.atan(r*e)-s;return new R(s*i,t.x*i/o)}},wi={LonLat:xi,Mercator:bi,SphericalMercator:V},Li=e({},H,{code:"EPSG:3395",projection:bi,transformation:function(){var t=.5/(Math.PI*bi.R);return q(t,.5,-t,.5)}()}),ki=e({},H,{code:"EPSG:4326",projection:xi,transformation:q(1/180,1,-1/180,.5)}),Pi=e({},U,{projection:xi,transformation:q(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(i*i+o*o)},infinite:!0});U.Earth=H,U.EPSG3395=Li,U.EPSG3857=Y,U.EPSG900913=X,U.EPSG4326=ki,U.Simple=Pi;var Ti=E.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?v(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var n=this._zoomBoundLayers[o].options;t=void 0===n.minZoom?t:Math.min(t,n.minZoom),e=void 0===n.maxZoom?e:Math.max(e,n.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ci=Ti.extend({initialize:function(t,e){var i,o;if(f(this,e),this._layers={},t)for(i=0,o=t.length;i<o;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),zi=Ci.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ci.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ci.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Mi=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),o},_setIconStyles:function(t,e){var i=this.options,o=i[e+"Size"];"number"==typeof o&&(o=[o,o]);var n=B(o),a=B("shadow"===e&&i.shadowAnchor||i.iconAnchor||n&&n.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),n&&(t.style.width=n.x+"px",t.style.height=n.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Tt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var Si=Mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Si.imagePath||(Si.imagePath=this._detectIconPath()),(this.options.imagePath||Si.imagePath)+Mi.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=ie(t,"background-image")||ie(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ei=ti.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ri(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,o=this._marker.options.autoPanSpeed,n=this._marker.options.autoPanPadding,a=ge(e._icon),r=i.getPixelBounds(),s=i.getPixelOrigin(),l=I(r.min._subtract(s).add(n),r.max._subtract(s).subtract(n));if(!l.contains(a)){var h=B((Math.max(l.max.x,a.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(o);i.panBy(h,{animate:!1}),this._draggable._newPos._add(h),this._draggable._startPos._add(h),_e(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,o=ge(e._icon),n=e._map.layerPointToLatLng(o);i&&_e(i,o),e._latlng=n,t.latlng=n,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ai=Ti.extend({options:{icon:new Si,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=F(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),he(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var n=t.icon.createShadow(this._shadow),a=!1;n!==this._shadow&&(this._removeShadow(),a=!0),n&&(he(n,e),n.alt=""),this._shadow=n,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),n&&a&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&_e(this._icon,t),this._shadow&&_e(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ei)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ei(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&pe(this._icon,t),this._shadow&&pe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Oi=Ti.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Bi=Oi.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=F(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Oi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),o=[t+i,e+i];this._pxBounds=new Z(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Zi=Bi.extend({initialize:function(t,i,o){if("number"==typeof i&&(i=e({},o,{radius:i})),f(this,i),this._latlng=F(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Oi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,o=i.options.crs;if(o.distance===H.distance){var n=Math.PI/180,a=this._mRadius/H.R/n,r=i.project([e+a,t]),s=i.project([e-a,t]),l=r.add(s).divideBy(2),h=i.unproject(l).lat,c=Math.acos((Math.cos(a*n)-Math.sin(e*n)*Math.sin(h*n))/(Math.cos(e*n)*Math.cos(h*n)))/n;(isNaN(c)||0===c)&&(c=a/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-i.project([h,t-c]).x,this._radiusY=l.y-r.y}else{var u=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(u).x}this._updateBounds()}});var Ii=Oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,o=1/0,n=null,a=fi,r=0,s=this._parts.length;r<s;r++)for(var l=this._parts[r],h=1,c=l.length;h<c;h++){var u=a(t,e=l[h-1],i=l[h],!0);u<o&&(o=u,n=a(t,e,i))}return n&&(n.distance=Math.sqrt(o)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,o,n,a,r,s=this._rings[0],l=s.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,o=0;t<l-1;t++)if(n=s[t],a=s[t+1],(o+=i=n.distanceTo(a))>e)return r=(o-e)/i,this._map.layerPointToLatLng([a.x-r*(a.x-n.x),a.y-r*(a.y-n.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=F(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return mi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=mi(t),o=0,n=t.length;o<n;o++)i?(e[o]=F(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._pxBounds=new Z([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,i){var o,n,a=t[0]instanceof R,r=t.length;if(a){for(n=[],o=0;o<r;o++)n[o]=this._map.latLngToLayerPoint(t[o]),i.extend(n[o]);e.push(n)}else for(o=0;o<r;o++)this._projectLatlngs(t[o],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,o,n,a,r,s,l=this._parts;for(e=0,o=0,n=this._rings.length;e<n;e++)for(i=0,a=(s=this._rings[e]).length;i<a-1;i++)(r=ci(s[i],s[i+1],t,i,!0))&&(l[o]=l[o]||[],l[o].push(r[0]),r[1]===s[i+1]&&i!==a-2||(l[o].push(r[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,o=t.length;i<o;i++)t[i]=si(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,o,n,a,r,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,a=this._parts.length;i<a;i++)for(o=0,n=(r=(s=this._parts[i]).length)-1;o<r;n=o++)if((e||0!==o)&&li(t,s[n],s[o])<=l)return!0;return!1}});Ii._flat=_i;var Di=Ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,o,n,a,r,s,l,h=this._rings[0],c=h.length;if(!c)return null;for(a=r=s=0,t=0,e=c-1;t<c;e=t++)i=h[t],o=h[e],n=i.y*o.x-o.y*i.x,r+=(i.x+o.x)*n,s+=(i.y+o.y)*n,a+=3*n;return l=0===a?h[0]:[r/a,s/a],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Ii.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof R&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Ii.prototype._setLatLngs.call(this,t),mi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new A(e,e);if(t=new Z(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var o,n=0,a=this._rings.length;n<a;n++)(o=vi(this._rings[n],t,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,o,n,a,r,s,l,h=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,s=this._parts.length;n<s;n++)for(a=0,r=(l=(e=this._parts[n]).length)-1;a<l;r=a++)i=e[a],o=e[r],i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(h=!h);return h||Ii.prototype._containsPoint.call(this,t,!0)}});var Ni=zi.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,o,n=v(t)?t:t.features;if(n){for(e=0,i=n.length;e<i;e++)((o=n[e]).geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var a=this.options;if(a.filter&&!a.filter(t))return this;var r=Ri(t,a);return r?(r.feature=Gi(t),r.defaultOptions=r.options,this.resetStyle(r),a.onEachFeature&&a.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Ri(t,e){var i,o,n,a,r="Feature"===t.type?t.geometry:t,s=r?r.coordinates:null,l=[],h=e&&e.pointToLayer,c=e&&e.coordsToLatLng||ji;if(!s&&!r)return null;switch(r.type){case"Point":return Fi(h,t,i=c(s),e);case"MultiPoint":for(n=0,a=s.length;n<a;n++)i=c(s[n]),l.push(Fi(h,t,i,e));return new zi(l);case"LineString":case"MultiLineString":return o=Ui(s,"LineString"===r.type?0:1,c),new Ii(o,e);case"Polygon":case"MultiPolygon":return o=Ui(s,"Polygon"===r.type?1:2,c),new Di(o,e);case"GeometryCollection":for(n=0,a=r.geometries.length;n<a;n++){var u=Ri({geometry:r.geometries[n],type:"Feature",properties:t.properties},e);u&&l.push(u)}return new zi(l);default:throw new Error("Invalid GeoJSON object.")}}function Fi(t,e,i,o){return t?t(e,i):new Ai(i,o&&o.markersInheritOptions&&o)}function ji(t){return new R(t[1],t[0],t[2])}function Ui(t,e,i){for(var o,n=[],a=0,r=t.length;a<r;a++)o=e?Ui(t[a],e-1,i):(i||ji)(t[a]),n.push(o);return n}function Hi(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function Wi(t,e,i,o){for(var n=[],a=0,r=t.length;a<r;a++)n.push(e?Wi(t[a],e-1,i,o):Hi(t[a],o));return!e&&i&&n.push(n[0]),n}function Vi(t,i){return t.feature?e({},t.feature,{geometry:i}):Gi(i)}function Gi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var qi={toGeoJSON:function(t){return Vi(this,{type:"Point",coordinates:Hi(this.getLatLng(),t)})}};function Yi(t,e){return new Ni(t,e)}Ai.include(qi),Zi.include(qi),Bi.include(qi),Ii.include({toGeoJSON:function(t){var e=!mi(this._latlngs);return Vi(this,{type:(e?"Multi":"")+"LineString",coordinates:Wi(this._latlngs,e?1:0,!1,t)})}}),Di.include({toGeoJSON:function(t){var e=!mi(this._latlngs),i=e&&!mi(this._latlngs[0]),o=Wi(this._latlngs,i?2:e?1:0,!0,t);return e||(o=[o]),Vi(this,{type:(i?"Multi":"")+"Polygon",coordinates:o})}}),Ci.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),Vi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var n=e.toGeoJSON(t);if(i)o.push(n.geometry);else{var a=Gi(n);"FeatureCollection"===a.type?o.push.apply(o,a.features):o.push(a)}}})),i?Vi(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var Xi=Yi,Ji=Ti.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=N(e),f(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&re(this._image),this},bringToBack:function(){return this._map&&se(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=N(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=a(this.fire,this,"load"),e.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;me(this._image,i,e)},_reset:function(){var t=this._image,e=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();_e(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){pe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ki=Ji.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=a(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],n=0;n<i.length;n++)o.push(i[n].src);this._url=i.length>0?o:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var r=0;r<this._url.length;r++){var s=oe("source");s.src=this._url[r],e.appendChild(s)}}}});var $i=Ji.extend({_initImage:function(){var t=this._image=this._url;he(t,"leaflet-image-layer"),this._zoomAnimated&&he(t,"leaflet-zoom-animated"),this.options.className&&he(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});var Qi=Ti.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){f(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&pe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&pe(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(pe(this._container,0),this._removeTimeout=setTimeout(a(ne,void 0,this._container),200)):ne(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=F(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&re(this._container),this},bringToBack:function(){return this._map&&se(this._container),this},_prepareOpen:function(t,e,i){if(e instanceof Ti||(i=e,e=t),e instanceof zi)for(var o in t._layers){e=t._layers[o];break}if(!i)if(e.getCenter)i=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");i=e.getLatLng()}return this._source=e,this.update(),i},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=B(this.options.offset),i=this._getAnchor();this._zoomAnimated?_e(this._container,t.add(i)):e=e.add(t).add(i);var o=this._containerBottom=-e.y,n=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=n+"px"}},_getAnchor:function(){return[0,0]}}),to=Qi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Qi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oi||this._source.on("preclick",Oe))},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oi||this._source.off("preclick",Oe))},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",i),Ze(e),Be(this._contentNode),Te(e,"contextmenu",Oe),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=oe("a",t+"-close-button",e);o.href="#close",o.innerHTML="&#215;",Te(o,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,n=this.options.maxHeight,a="leaflet-popup-scrolled";n&&o>n?(e.height=n+"px",he(t,a)):ce(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();_e(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ie(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,n=new A(this._containerLeft,-i-this._containerBottom);n._add(ge(this._container));var a=t.layerPointToContainerPoint(n),r=B(this.options.autoPanPadding),s=B(this.options.autoPanPaddingTopLeft||r),l=B(this.options.autoPanPaddingBottomRight||r),h=t.getSize(),c=0,u=0;a.x+o+l.x>h.x&&(c=a.x+o-h.x+l.x),a.x-c-s.x<0&&(c=a.x-s.x),a.y+i+l.y>h.y&&(u=a.y+i-h.y+l.y),a.y-u-s.y<0&&(u=a.y-s.y),(c||u)&&t.fire("autopanstart").panBy([c,u])}},_onCloseButtonClick:function(t){this._close(),De(t)},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(t,e,i){return t instanceof to||(t=new to(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Ti.include({bindPopup:function(t,e){return t instanceof to?(f(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new to(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(De(t),e instanceof Oi?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var eo=Qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Qi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Qi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Qi.prototype.getEvents.call(this);return Lt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,o=this._map,n=this._container,a=o.latLngToContainerPoint(o.getCenter()),r=o.layerPointToContainerPoint(t),s=this.options.direction,l=n.offsetWidth,h=n.offsetHeight,c=B(this.options.offset),u=this._getAnchor();"top"===s?(e=l/2,i=h):"bottom"===s?(e=l/2,i=0):"center"===s?(e=l/2,i=h/2):"right"===s?(e=0,i=h/2):"left"===s?(e=l,i=h/2):r.x<a.x?(s="right",e=0,i=h/2):(s="left",e=l+2*(c.x+u.x),i=h/2),t=t.subtract(B(e,i,!0)).add(c).add(u),ce(n,"leaflet-tooltip-right"),ce(n,"leaflet-tooltip-left"),ce(n,"leaflet-tooltip-top"),ce(n,"leaflet-tooltip-bottom"),he(n,"leaflet-tooltip-"+s),_e(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&pe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});qe.include({openTooltip:function(t,e,i){return t instanceof eo||(t=new eo(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Ti.include({bindTooltip:function(t,e){return t instanceof eo?(f(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new eo(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),Lt&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ce(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(o)}});var io=Mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(ae(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var o=B(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Mi.Default=Si;var oo=Ti.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ne(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(re(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,o=-t(-1/0,1/0),n=0,a=i.length;n<a;n++)e=i[n].style.zIndex,i[n]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){pe(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var o in this._tiles){var n=this._tiles[o];if(n.current&&n.loaded){var a=Math.min(1,(t-n.loaded)/200);pe(n.el,a),a<1?e=!0:(n.active?i=!0:this._onOpaqueTile(n),n.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(C(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(ne(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var o=this._levels[t],n=this._map;return o||((o=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=n.project(n.unproject(n.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,n.getCenter(),n.getZoom()),o.el.offsetWidth,this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ne(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,o){var n=Math.floor(t/2),a=Math.floor(e/2),r=i-1,s=new A(+n,+a);s.z=+r;var l=this._tileCoordsToKey(s),h=this._tiles[l];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),r>o&&this._retainParent(n,a,r,o))},_retainChildren:function(t,e,i,o){for(var n=2*t;n<2*t+2;n++)for(var a=2*e;a<2*e+2;a++){var r=new A(n,a);r.z=i+1;var s=this._tileCoordsToKey(r),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<o&&this._retainChildren(n,a,i+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,o){var n=Math.round(e);n=void 0!==this.options.maxZoom&&n>this.options.maxZoom||void 0!==this.options.minZoom&&n<this.options.minZoom?void 0:this._clampZoom(n);var a=this.options.updateWhenZooming&&n!==this._tileZoom;o&&!a||(this._tileZoom=n,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==n&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var o=this._map.getZoomScale(i,t.zoom),n=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,i)).round();gt?me(t.el,n,o):_e(t.el,n)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),o=this._tileZoom,n=this._map.getPixelWorldBounds(this._tileZoom);n&&(this._globalTileRange=this._pxBoundsToTileRange(n)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(i,this._tileZoom),n=e.project(t,this._tileZoom).floor(),a=e.getSize().divideBy(2*o);return new Z(n.subtract(a),n.add(a))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),n=this._pxBoundsToTileRange(o),a=n.getCenter(),r=[],s=this.options.keepBuffer,l=new Z(n.getBottomLeft().subtract([s,-s]),n.getTopRight().add([s,-s]));if(!(isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.max.x)&&isFinite(n.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var h in this._tiles){var c=this._tiles[h].coords;c.z===this._tileZoom&&l.contains(new A(c.x,c.y))||(this._tiles[h].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var u=n.min.y;u<=n.max.y;u++)for(var d=n.min.x;d<=n.max.x;d++){var p=new A(d,u);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:r.push(p)}}if(r.sort((function(t,e){return t.distanceTo(a)-e.distanceTo(a)})),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<r.length;d++)this._addTile(r[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return N(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),o=t.scaleBy(i),n=o.add(i);return[e.unproject(o,t.z),e.unproject(n,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new D(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new A(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(ne(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,tt&&this.options.opacity<1&&pe(t,this.options.opacity),ot&&!nt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),n=this.createTile(this._wrapCoords(t),a(this._tileReady,this,t));this._initTile(n),this.createTile.length<2&&T(a(this._tileReady,this,t,null,n)),_e(n,i),this._tiles[o]={el:n,coords:t,current:!0},e.appendChild(n),this.fire("tileloadstart",{tile:n,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);(i=this._tiles[o])&&(i.loaded=+new Date,this._map._fadeAnimated?(pe(i.el,0),C(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(he(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?h(t.x,this._wrapX):t.x,this._wrapY?h(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Z(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var no=oo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Tt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ot||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Te(i,"load",a(this._tileOnLoad,this,e,i)),Te(i,"error",a(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var i={r:Tt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=o),i["-y"]=o}return g(this._url,e(i,this.options))},_tileOnLoad:function(t,e){tt?setTimeout(a(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,e.complete||(e.src=x,ne(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return rt||e.el.setAttribute("src",x),oo.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==x))return oo.prototype._tileReady.call(this,t,e,i)}});function ao(t,e){return new no(t,e)}var ro=no.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var o=e({},this.defaultWmsParams);for(var n in i)n in this.options||(o[n]=i[n]);var a=(i=f(this,i)).detectRetina&&Tt?2:1,r=this.getTileSize();o.width=r.x*a,o.height=r.y*a,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,no.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,o=I(i.project(e[0]),i.project(e[1])),n=o.min,a=o.max,r=(this._wmsVersion>=1.3&&this._crs===ki?[n.y,n.x,a.y,a.x]:[n.x,n.y,a.x,a.y]).join(","),s=no.prototype.getTileUrl.call(this,t);return s+m(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,i){return e(this.wmsParams,t),i||this.redraw(),this}});no.WMS=ro,ao.wms=function(t,e){return new ro(t,e)};var so=Ti.extend({options:{padding:.1,tolerance:0},initialize:function(t){f(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=ge(this._container),n=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,e),r=this._map.project(t,e).subtract(a),s=n.multiplyBy(-i).add(o).add(n).subtract(r);gt?me(this._container,s,i):_e(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Z(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lo=so.extend({getEvents:function(){var t=so.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){so.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,ne(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){so.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),o=Tt?2:1;_e(e,t.min),e.width=o*i.x,e.height=o*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Tt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){so.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,o=t.options.dashArray.split(/[, ]+/),n=[];for(i=0;i<o.length;i++){if(e=Number(o[i]),isNaN(e))return;n.push(e)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,o,n,a,r=t._parts,s=r.length,l=this._ctx;if(s){for(l.beginPath(),i=0;i<s;i++){for(o=0,n=r[i].length;o<n;o++)a=r[i][o],l[o?"lineTo":"moveTo"](a.x,a.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,o=Math.max(Math.round(t._radius),1),n=(Math.max(Math.round(t._radiusY),1)||o)/o;1!==n&&(i.save(),i.scale(1,n)),i.beginPath(),i.arc(e.x,e.y/n,o,0,2*Math.PI,!1),1!==n&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,o=this._map.mouseEventToLayerPoint(t),n=this._drawFirst;n;n=n.next)(e=n.layer).options.interactive&&e._containsPoint(o)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(i=e);i&&(Ue(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ce(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,n=this._drawFirst;n;n=n.next)(i=n.layer).options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(he(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(a((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;i&&(i.prev=o,o?o.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;o&&(o.next=i,i?i.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ho(t){return zt?new lo(t):null}var co=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),uo={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(so.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=co("shape");he(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=co("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ne(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,o=t.options,n=t._container;n.stroked=!!o.stroke,n.filled=!!o.fill,o.stroke?(e||(e=t._stroke=co("stroke")),n.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=v(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(n.removeChild(e),t._stroke=null),o.fill?(i||(i=t._fill=co("fill")),n.appendChild(i),i.color=o.fillColor||o.color,i.opacity=o.fillOpacity):i&&(n.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),o=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){re(t._container)},_bringToBack:function(t){se(t._container)}},po=St?co:J,fo=so.extend({getEvents:function(){var t=so.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=po("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=po("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){so.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),_e(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=po("path");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ne(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),o="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",n=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+2*i+",0 "+o+2*-i+",0 ";this._setPath(t,n)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){re(t._path)},_bringToBack:function(t){se(t._path)}});function mo(t){return Mt||St?new fo(t):null}St&&fo.include(uo),qe.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ho(t)||mo(t)}});var _o=Di.extend({initialize:function(t,e){Di.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=N(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});fo.create=po,fo.pointsToPath=K,Ni.geometryToLayer=Ri,Ni.coordsToLatLng=ji,Ni.coordsToLatLngs=Ui,Ni.latLngToCoords=Hi,Ni.latLngsToCoords=Wi,Ni.getFeature=Vi,Ni.asFeature=Gi,qe.mergeOptions({boxZoom:!0});var go=ti.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),qt(),ye(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Z(this._point,this._startPoint),i=e.getSize();_e(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(ne(this._box),ce(this._container,"leaflet-crosshair")),Yt(),xe(),ze(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});qe.addInitHook("addHandler","boxZoom",go),qe.mergeOptions({doubleClickZoom:!0});var vo=ti.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),o=e.options.zoomDelta,n=t.originalEvent.shiftKey?i-o:i+o;"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}});qe.addInitHook("addHandler","doubleClickZoom",vo),qe.mergeOptions({dragging:!0,inertia:!nt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yo=ti.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ri(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ce(this._map._container,"leaflet-grab"),ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=N(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,o=this._draggable._newPos.x,n=(o-e+i)%t+e-i,a=(o+e+i)%t-e-i,r=Math.abs(n+i)<Math.abs(a+i)?n:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,i=e.options,o=!i.inertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var n=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,r=i.easeLinearity,s=n.multiplyBy(r/a),l=s.distanceTo([0,0]),h=Math.min(i.inertiaMaxSpeed,l),c=s.multiplyBy(h/l),u=h/(i.inertiaDeceleration*r),d=c.multiplyBy(-u/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),T((function(){e.panBy(d,{duration:u,easeLinearity:r,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});qe.addInitHook("addHandler","dragging",yo),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xo=ti.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,o=this._panKeys={},n=this.keyCodes;for(e=0,i=n.left.length;e<i;e++)o[n.left[e]]=[-1*t,0];for(e=0,i=n.right.length;e<i;e++)o[n.right[e]]=[t,0];for(e=0,i=n.down.length;e<i;e++)o[n.down[e]]=[0,t];for(e=0,i=n.up.length;e<i;e++)o[n.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,o=this._zoomKeys={},n=this.keyCodes;for(e=0,i=n.zoomIn.length;e<i;e++)o[n.zoomIn[e]]=t;for(e=0,i=n.zoomOut.length;e<i;e++)o[n.zoomOut[e]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,o=this._map;if(i in this._panKeys)o._panAnim&&o._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=B(e).multiplyBy(3)),o.panBy(e),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds));else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}De(t)}}});qe.addInitHook("addHandler","keyboard",xo),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bo=ti.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Fe(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),o),De(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,a=i?Math.ceil(n/i)*i:n,r=t._limitZoom(e+(this._delta>0?a:-a))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}});qe.addInitHook("addHandler","scrollWheelZoom",bo),qe.mergeOptions({tap:!0,tapTolerance:15});var wo=ti.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ie(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new A(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&he(i,"leaflet-active"),this._holdTimeout=setTimeout(a((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Te(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),ze(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&ce(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});!Lt||wt&&!ct||qe.addInitHook("addHandler","tap",wo),qe.mergeOptions({touchZoom:Lt&&!nt,bounceAtZoomLimits:!0});var Lo=ti.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend",this._onTouchEnd,this),Ie(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),n=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(n,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&n<1||this._zoom>e.getMaxZoom()&&n>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===n)return}else{var r=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===n&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var s=a(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(s,this,!0),Ie(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});qe.addInitHook("addHandler","touchZoom",Lo),qe.BoxZoom=go,qe.DoubleClickZoom=vo,qe.Drag=yo,qe.Keyboard=xo,qe.ScrollWheelZoom=bo,qe.Tap=wo,qe.TouchZoom=Lo,t.version="1.7.1",t.Control=Ye,t.control=Xe,t.Browser=At,t.Evented=E,t.Mixin=ii,t.Util=z,t.Class=M,t.Handler=ti,t.extend=e,t.bind=a,t.stamp=s,t.setOptions=f,t.DomEvent=Ve,t.DomUtil=Pe,t.PosAnimation=Ge,t.Draggable=ri,t.LineUtil=gi,t.PolyUtil=yi,t.Point=A,t.point=B,t.Bounds=Z,t.bounds=I,t.Transformation=G,t.transformation=q,t.Projection=wi,t.LatLng=R,t.latLng=F,t.LatLngBounds=D,t.latLngBounds=N,t.CRS=U,t.GeoJSON=Ni,t.geoJSON=Yi,t.geoJson=Xi,t.Layer=Ti,t.LayerGroup=Ci,t.layerGroup=function(t,e){return new Ci(t,e)},t.FeatureGroup=zi,t.featureGroup=function(t,e){return new zi(t,e)},t.ImageOverlay=Ji,t.imageOverlay=function(t,e,i){return new Ji(t,e,i)},t.VideoOverlay=Ki,t.videoOverlay=function(t,e,i){return new Ki(t,e,i)},t.SVGOverlay=$i,t.svgOverlay=function(t,e,i){return new $i(t,e,i)},t.DivOverlay=Qi,t.Popup=to,t.popup=function(t,e){return new to(t,e)},t.Tooltip=eo,t.tooltip=function(t,e){return new eo(t,e)},t.Icon=Mi,t.icon=function(t){return new Mi(t)},t.DivIcon=io,t.divIcon=function(t){return new io(t)},t.Marker=Ai,t.marker=function(t,e){return new Ai(t,e)},t.TileLayer=no,t.tileLayer=ao,t.GridLayer=oo,t.gridLayer=function(t){return new oo(t)},t.SVG=fo,t.svg=mo,t.Renderer=so,t.Canvas=lo,t.canvas=ho,t.Path=Oi,t.CircleMarker=Bi,t.circleMarker=function(t,e){return new Bi(t,e)},t.Circle=Zi,t.circle=function(t,e,i){return new Zi(t,e,i)},t.Polyline=Ii,t.polyline=function(t,e){return new Ii(t,e)},t.Polygon=Di,t.polygon=function(t,e){return new Di(t,e)},t.Rectangle=_o,t.rectangle=function(t,e){return new _o(t,e)},t.Map=qe,t.map=function(t,e){return new qe(t,e)};var ko=n;t.noConflict=function(){return n=ko,this},n=t}(e)},9620:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var o=i(3379),n=i.n(o),a=i(4800);n()(a.Z,{insert:"head",singleton:!1});const r=a.Z.locals||{}},3379:(t,e,i)=>{"use strict";var o,n=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function r(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function s(t,e){for(var i={},o=[],n=0;n<t.length;n++){var s=t[n],l=e.base?s[0]+e.base:s[0],h=i[l]||0,c="".concat(l," ").concat(h);i[l]=h+1;var u=r(c),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(a[u].references++,a[u].updater(d)):a.push({identifier:c,updater:m(d,e),references:1}),o.push(c)}return o}function l(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var a=i.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var r=n(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var h,c=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function u(t,e,i,o){var n=i?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=c(e,n);else{var a=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function d(t,e,i){var o=i.css,n=i.media,a=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var p=null,f=0;function m(t,e){var i,o,n;if(e.singleton){var a=f++;i=p||(p=l(e)),o=u.bind(null,i,a,!1),n=u.bind(null,i,a,!0)}else i=l(e),o=d.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var i=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<i.length;o++){var n=r(i[o]);a[n].references--}for(var l=s(t,e),h=0;h<i.length;h++){var c=r(i[h]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}i=l}}}},4199:(t,e,i)=>{var o={"./f-checker.svg":674,"./f-de.svg":4869,"./f-en.svg":551,"./f-es.svg":9109,"./f-fr.svg":9888,"./f-it.svg":5491};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}n.keys=function(){return Object.keys(o)},n.resolve=a,t.exports=n,n.id=4199}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={id:o,exports:{}};return t[o].call(a.exports,a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="https://opentopomap.org/";var o={};(()=>{"use strict";i.d(o,{ui:()=>Ae});var t={};i.r(t),i.d(t,{GeoJSONLoader:()=>yt,addClass:()=>zt,append:()=>It,create:()=>Zt,debounce:()=>ft,deepMerge:()=>dt,deferFunc:()=>pt,each:()=>Wt,formatTime:()=>vt,hasClass:()=>Ut,insert:()=>Dt,isDomVisible:()=>xt,isJSONDoc:()=>Lt,isObject:()=>bt,isVisible:()=>wt,isXMLDoc:()=>kt,lazyLoader:()=>Pt,off:()=>jt,on:()=>Ft,randomId:()=>Ht,removeClass:()=>Mt,replaceClass:()=>Et,saveFile:()=>Tt,select:()=>Rt,setAttributes:()=>Nt,style:()=>At,toggleClass:()=>St,toggleEvent:()=>Bt,toggleStyle:()=>Ot,waitHolder:()=>Ct});var e={};i.r(e),i.d(e,{Area:()=>qt,Axis:()=>Xt,Bisect:()=>se,Chart:()=>le,Colors:()=>Gt,Domain:()=>ne,Grid:()=>Jt,HeightFocusLabel:()=>$t,HeightFocusLine:()=>Kt,HeightFocusMarker:()=>Qt,LegendItem:()=>te,MouseFocusLabel:()=>ie,MouseFocusLine:()=>ee,Path:()=>Yt,Range:()=>ae,Ruler:()=>oe,Scale:()=>re}),i(6128);var n=i(3379),a=i.n(n),r=i(8153);a()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;var s=i(4074);a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var l=i(4198);function h(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t.toUpperCase())}function c(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(t)}a()(l.Z,{insert:"head",singleton:!1}),l.Z.locals;var u=i(6808),d=i.n(u);function p(){d().set("OTM-2-0-0",JSON.stringify(Ae.ctx),{expires:14,path:"/",domain:"opentopomap.org",samesite:"none",secure:!0})}function f(){var t="https://opentopomap.org/"+(Ae.ctx.markerActive?"#marker=":"#map=")+Ae.ctx.mapZoom+"/"+(Ae.ctx.markerActive?m(Ae.ctx.markerLatLng.lat)+"/"+m(Ae.ctx.markerLatLng.lng):m(Ae.ctx.mapLatLng.lat)+"/"+m(Ae.ctx.mapLatLng.lng));history.replaceState({},Ae.loc.sitehead.title,t),p()}function m(t){return t.toFixed(Math.ceil(2*Math.log(Ae.ctx.mapZoom)-1))}var _=i(9669),g=i(5243);var v=i(5243),y=i(5243);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i(4199);var b=!1;var w=i(5243),L=i.n(w);function k(){return(k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function P(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function z(t,e,i){return(z=C()?Reflect.construct:function(t,e,i){var o=[null];o.push.apply(o,e);var n=new(Function.bind.apply(t,o));return i&&T(n,i.prototype),n}).apply(null,arguments)}function M(t,e,i,o){void 0===e&&(e=""),void 0===o&&(o={});var n=document.createElement(t);return e&&(n.className=e),Object.keys(o).forEach((function(t){if("function"==typeof o[t]){var e=0===t.indexOf("on")?t.substr(2).toLowerCase():t;n.addEventListener(e,o[t])}else"html"===t?n.innerHTML=o[t]:"text"===t?n.innerText=o[t]:n.setAttribute(t,o[t])})),i&&i.appendChild(n),n}function S(t){t.preventDefault(),t.stopPropagation()}var E=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(Boolean).join(" ").trim()};function A(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach((function(e){t.classList.contains(e)||t.classList.add(e)}))}function O(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach((function(e){t.classList.contains(e)&&t.classList.remove(e)}))}var B,Z,I=13,D=40,N=38,R=[I,27,D,N,37,39],F=function(){function t(t){var e=this,i=t.handleSubmit,o=t.searchLabel,n=t.classNames,a=void 0===n?{}:n;this.hasError=!1,this.container=M("div",E("geosearch",a.container)),this.form=M("form",["",a.form].join(" "),this.container,{autocomplete:"none",onClick:S,onDblClick:S,touchStart:S,touchEnd:S}),this.input=M("input",["glass",a.input].join(" "),this.form,{type:"text",placeholder:o||"search",onInput:this.onInput,onKeyUp:function(t){return e.onKeyUp(t)},onKeyPress:function(t){return e.onKeyPress(t)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){e.input.focus(),e.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=i}var e=t.prototype;return e.onFocus=function(){A(this.form,"active")},e.onBlur=function(){O(this.form,"active")},e.onSubmit=function(t){try{var e=this;return S(t),O(i=e.container,"error"),A(i,"pending"),Promise.resolve(e.handleSubmit({query:e.input.value})).then((function(){O(e.container,"pending")}))}catch(t){return Promise.reject(t)}var i},e.onInput=function(){this.hasError&&(O(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(t){27===t.keyCode&&(O(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(t){t.keyCode===I&&this.onSubmit(t)},e.setQuery=function(t){this.input.value=t},t}(),j=function(){function t(t){var e=this,i=t.handleClick,o=t.classNames,n=void 0===o?{}:o;this.selected=-1,this.results=[],this.onClick=function(t){if("function"==typeof e.handleClick){var i=t.target;if(i&&e.container.contains(i)&&i.hasAttribute("data-key")){var o=Number(i.getAttribute("data-key"));e.clear(),e.handleClick({result:e.results[o]})}}},this.handleClick=i,this.container=M("div",E("results",n.container)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=M("div",E(n.item))}var e=t.prototype;return e.render=function(t,e){var i=this;void 0===t&&(t=[]),this.clear(),t.forEach((function(t,o){var n=i.resultItem.cloneNode(!0);n.setAttribute("data-key",""+o),n.innerHTML=e({result:t}),i.container.appendChild(n)})),t.length>0&&(A(this.container.parentElement,"open"),A(this.container,"active")),this.results=t},e.select=function(t){return Array.from(this.container.children).forEach((function(e,i){return i===t?A(e,"active"):O(e,"active")})),this.selected=t,this.results[t]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);O(this.container.parentElement,"open"),O(this.container,"active")},t}(),U={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:L()&&L().Icon?new(L().Icon.Default):void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},H="Leaflet must be loaded before instantiating the GeoSearch control",W={options:k({},U),classNames:k({},U.classNames),initialize:function(t){var e,i,o,n,a=this;if(!L())throw new Error(H);if(!t.provider)throw new Error("Provider is missing from options");this.options=k({},this.options,{},t),this.classNames=k({},this.classNames,{},t.classNames),this.markers=new(L().FeatureGroup),this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new F({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(t){return a.onSubmit(t)}}),this.button=M("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(t){return a.onClick(t)}}),L().DomEvent.disableClickPropagation(this.button),this.resetButton=M("a",this.classNames.resetButton,this.searchElement.form,{text:"×",href:"#",onClick:function(){return a.clearResults(null,!0)}}),L().DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new j({handleClick:function(t){var e=t.result;a.searchElement.input.value=e.label,a.onSubmit({query:e.label,data:e})}}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(t){return a.autoSearch(t)},void 0===(i=this.options.autoCompleteDelay)&&(i=250),void 0===o&&(o=!1),function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n&&clearTimeout(n),n=setTimeout((function(){n=null,o||e.apply(void 0,a)}),i),o&&!n&&e.apply(void 0,a)}),!0),this.searchElement.input.addEventListener("keydown",(function(t){return a.selectResult(t)}),!0),this.searchElement.input.addEventListener("keydown",(function(t){return a.clearResults(t,!0)}),!0)),this.searchElement.form.addEventListener("click",(function(t){t.preventDefault()}),!1)},onAdd:function(t){var e=this.options,i=e.showMarker,o=e.style;if(this.map=t,i&&this.markers.addTo(t),"bar"===o){var n=t.getContainer().querySelector(".leaflet-control-container");this.container=M("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),n.appendChild(this.container)}return L().DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return null==(t=this.container)||t.remove(),this},onClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.searchElement,i=e.container,o=e.input;i.classList.contains("active")?(O(i,"active"),this.clearResults()):(A(i,"active"),o.focus())},selectResult:function(t){if(-1!==[I,D,N].indexOf(t.keyCode))if(t.preventDefault(),t.keyCode!==I){var e=this.resultList.count()-1;if(!(e<0)){var i=this.resultList.selected,o=t.keyCode===D?i+1:i-1,n=this.resultList.select(o<0?e:o>e?0:o);this.searchElement.input.value=n.label}}else{var a=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:a})}},clearResults:function(t,e){if(void 0===e&&(e=!1),!t||27===t.keyCode){var i=this.options,o=i.autoComplete;!e&&i.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),o&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(R.indexOf(t.keyCode)>-1)return Promise.resolve();var i=t.target.value,o=e.options.provider,n=function(){if(i.length)return Promise.resolve(o.search({query:i})).then((function(t){t=t.slice(0,e.options.maxSuggestions),e.resultList.render(t,e.options.resultFormat)}));e.resultList.clear()}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},onSubmit:function(t){try{var e=this;return Promise.resolve(e.options.provider.search(t)).then((function(i){i&&i.length>0&&e.showResult(i[0],t)}))}catch(t){return Promise.reject(t)}},showResult:function(t,e){var i=this.options,o=i.autoClose,n=i.updateMap,a=this.markers.getLayers();a.length>=this.options.maxMarkers&&this.markers.removeLayer(a[0]);var r=this.addMarker(t,e);n&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:r}),o&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&O(t,"active"),this.clearResults()},addMarker:function(t,e){var i=this,o=this.options,n=o.marker,a=o.showPopup,r=o.popupFormat,s=new(L().Marker)([t.y,t.x],n),l=t.label;return"function"==typeof r&&(l=r({query:e,result:t})),s.bindPopup(l),this.markers.addLayer(s),a&&s.openPopup(),n.draggable&&s.on("dragend",(function(t){i.map.fireEvent("geosearch/marker/dragend",{location:s.getLatLng(),event:t})})),s},centerMap:function(t){var e=this.options,i=e.retainZoomLevel,o=e.animateZoom,n=t.bounds?new(L().LatLngBounds)(t.bounds):new(L().LatLng)(t.y,t.x).toBounds(10),a=n.isValid()?n:this.markers.getBounds();!i&&n.isValid()&&!t.bounds||i||!n.isValid()?this.map.setView(a.getCenter(),this.getZoom(),{animate:o}):this.map.fitBounds(a,{animate:o})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function V(){if(!L())throw new Error(H);for(var t=L().Control.extend(W),e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return z(t,i)}(Z=B||(B={}))[Z.SEARCH=0]="SEARCH",Z[Z.REVERSE=1]="REVERSE";var G=function(){function t(t){void 0===t&&(t={}),this.options=t}var e=t.prototype;return e.getParamString=function(t){void 0===t&&(t={});var e=k({},this.options.params,{},t);return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},e.getUrl=function(t,e){return t+"?"+this.getParamString(e)},e.search=function(t){try{var e=this,i=e.endpoint({query:t.query,type:B.SEARCH});return Promise.resolve(fetch(i)).then((function(t){return Promise.resolve(t.json()).then((function(t){return e.parse({data:t})}))}))}catch(t){return Promise.reject(t)}},t}(),q=(function(t){function e(){return t.apply(this,arguments)||this}P(e,t);var i=e.prototype;i.endpoint=function(){return"https://places-dsn.algolia.net/1/places/query"},i.findBestMatchLevelIndex=function(t){var e=t.find((function(t){return"full"===t.matchLevel}))||t.find((function(t){return"partial"===t.matchLevel}));return e?t.indexOf(e):0},i.getLabel=function(t){var e,i,o,n;return[null==(e=t.locale_names)?void 0:e.default[this.findBestMatchLevelIndex(t._highlightResult.locale_names.default)],null==(i=t.city)?void 0:i.default[this.findBestMatchLevelIndex(t._highlightResult.city.default)],t.administrative[this.findBestMatchLevelIndex(t._highlightResult.administrative)],null==(o=t.postcode)?void 0:o[this.findBestMatchLevelIndex(t._highlightResult.postcode)],null==(n=t.country)?void 0:n.default].filter(Boolean).join(", ")},i.parse=function(t){var e=this;return t.data.hits.map((function(t){return{x:t._geoloc.lng,y:t._geoloc.lat,label:e.getLabel(t),bounds:null,raw:t}}))},i.search=function(t){var e=t.query;try{var i=this,o="string"==typeof e?{query:e}:e;return Promise.resolve(fetch(i.endpoint(),{method:"POST",body:JSON.stringify(k({},i.options.params,{},o))})).then((function(t){return Promise.resolve(t.json()).then((function(t){return i.parse({data:t})}))}))}catch(t){return Promise.reject(t)}}}(G),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://dev.virtualearth.net/REST/v1/Locations",e}P(e,t);var i=e.prototype;i.endpoint=function(t){var e=t.query,i="string"==typeof e?{q:e}:e;return i.jsonp=t.jsonp,this.getUrl(this.searchUrl,i)},i.parse=function(t){return 0===t.data.resourceSets.length?[]:t.data.resourceSets[0].resources.map((function(t){return{x:t.point.coordinates[1],y:t.point.coordinates[0],label:t.address.formattedAddress,bounds:[[t.bbox[0],t.bbox[1]],[t.bbox[2],t.bbox[3]]],raw:t}}))},i.search=function(t){var e,i,o,n=t.query;try{var a=this,r="BING_JSONP_CB_"+Date.now();return Promise.resolve((e=a.endpoint({query:n,jsonp:r}),i=r,o=M("script",null,document.body),o.setAttribute("type","text/javascript"),new Promise((function(t){window[i]=function(e){o.remove(),delete window[i],t(e)},o.setAttribute("src",e)})))).then((function(t){return a.parse({data:t})}))}catch(t){return Promise.reject(t)}}}(G),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",e}P(e,t);var i=e.prototype;i.endpoint=function(t){var e=t.query,i="string"==typeof e?{text:e}:e;return i.f="json",this.getUrl(this.searchUrl,i)},i.parse=function(t){return t.data.locations.map((function(t){return{x:t.feature.geometry.x,y:t.feature.geometry.y,label:t.name,bounds:[[t.extent.ymin,t.extent.xmin],[t.extent.ymax,t.extent.xmax]],raw:t}}))}}(G),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://maps.googleapis.com/maps/api/geocode/json",e}P(e,t);var i=e.prototype;i.endpoint=function(t){var e=t.query;return this.getUrl(this.searchUrl,"string"==typeof e?{address:e}:e)},i.parse=function(t){return t.data.results.map((function(t){return{x:t.geometry.location.lng,y:t.geometry.location.lat,label:t.formatted_address,bounds:[[t.geometry.viewport.southwest.lat,t.geometry.viewport.southwest.lng],[t.geometry.viewport.northeast.lat,t.geometry.viewport.northeast.lng]],raw:t}}))}}(G),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://geocode.search.hereapi.com/v1/geocode",e}P(e,t);var i=e.prototype;i.endpoint=function(t){var e=t.query;return this.getUrl(this.searchUrl,"string"==typeof e?{q:e}:e)},i.parse=function(t){return t.data.items.map((function(t){return{x:t.position.lng,y:t.position.lat,label:t.address.label,bounds:null,raw:t}}))}}(G),function(t){function e(e){var i;void 0===e&&(e={});var o="https://nominatim.openstreetmap.org";return(i=t.call(this,e)||this).searchUrl=e.searchUrl||o+"/search",i.reverseUrl=e.reverseUrl||o+"/reverse",i}P(e,t);var i=e.prototype;return i.endpoint=function(t){var e=t.query,i=t.type,o="string"==typeof e?{q:e}:e;switch(o.format="json",i){case B.REVERSE:return this.getUrl(this.reverseUrl,o);default:return this.getUrl(this.searchUrl,o)}},i.parse=function(t){return(Array.isArray(t.data)?t.data:[t.data]).map((function(t){return{x:Number(t.lon),y:Number(t.lat),label:t.display_name,bounds:[[parseFloat(t.boundingbox[0]),parseFloat(t.boundingbox[2])],[parseFloat(t.boundingbox[1]),parseFloat(t.boundingbox[3])]],raw:t}}))},e}(G)),Y=(function(t){P((function(e){return t.call(this,k({},e,{searchUrl:"https://locationiq.org/v1/search.php",reverseUrl:"https://locationiq.org/v1/reverse.php"}))||this}),t)}(q),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://api.opencagedata.com/geocode/v1/json",e}P(e,t);var i=e.prototype;i.endpoint=function(t){var e=t.query,i="string"==typeof e?{q:e}:e;return i.format="json",this.getUrl(this.searchUrl,i)},i.parse=function(t){return t.data.results.map((function(t){return{x:t.geometry.lng,y:t.geometry.lat,label:t.formatted,bounds:[[t.bounds.southwest.lat,t.bounds.southwest.lng],[t.bounds.northeast.lat,t.bounds.northeast.lng]],raw:t}}))},i.search=function(e){try{return Promise.resolve(e.query.length<2?[]:t.prototype.search.call(this,e))}catch(t){return Promise.reject(t)}}}(G),function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).searchUrl=e.searchUrl||"https://a.tiles.mapbox.com/v4/geocode/mapbox.places/",i}P(e,t);var i=e.prototype;i.endpoint=function(t){return this.getUrl(""+this.searchUrl+t.query+".json")},i.parse=function(t){return(Array.isArray(t.data.features)?t.data.features:[]).map((function(t){var e=null;return t.bbox&&(e=[[parseFloat(t.bbox[1]),parseFloat(t.bbox[0])],[parseFloat(t.bbox[3]),parseFloat(t.bbox[2])]]),{x:Number(t.center[0]),y:Number(t.center[1]),label:t.place_name?t.place_name:t.text,bounds:e,raw:t}}))}}(G),i(5243));function X(){Ae.ctx.markerActive?Ae.ctx.markerActive&&(Ae.marker.e.remove(),Ae.ctx.markerActive=!1,f(),Ae.ctrl.buttonMarker.setToggleState(!1)):J(Ae.map.getCenter(),!1)}function J(t,e){Ae.ctx.markerActive&&!e||(Ae.marker.e=Y.marker(t,{draggable:!0,autoPan:!0}).addTo(Ae.map),Ae.marker.e.on("dragend",K),Ae.ctx.markerActive=!0,Ae.ctx.markerLatLng=t,f(),Ae.ctrl.buttonMarker.setToggleState(!0))}function K(t){Ae.ctx.markerLatLng=this.getLatLng(),f()}function $(){Ae.search.active?(Ae.map.off("geosearch/showlocation"),Ae.map.removeControl(Ae.search.control),Ae.search.control=null,Ae.search.active=!1):(Ae.search.control=new V({provider:new q,style:"bar",showMarker:!1,showPopup:!1,autoClose:!1,updateMap:!1,searchLabel:Ae.loc.search.label}),Ae.map.addControl(Ae.search.control),Ae.map.on("geosearch/showlocation",(function(t){var e,i;e={lat:t.location.y,lng:t.location.x},(i=Ae.map.getZoom())<13&&(i=13),Ae.map.setView(e,i),Ae.ctx.markerActive?(Ae.marker.e.setLatLng(e),f()):J(e,!1)})),document.getElementsByClassName("glass")[0].focus(),Ae.ctrl.infoDropdown.undrop(),Ae.search.active=!0),Ae.ctrl.buttonSearch.setToggleState(Ae.search.active)}var Q=i(5243),tt=!1;var et=i(5243);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ot=!1;function nt(){ot||(et.Control.Message=et.Control.extend({initialize:function(t){this._html=void 0!==it(t.html)?t.html:null,this._className=void 0!==it(t.className)?t.className:"",et.setOptions(this,t),ot=!0},onAdd:function(t){return this._control=et.DomUtil.create("div","leaflet-bar"),et.DomUtil.addClass(this._control,"otm-message-container"),this._html&&(et.DomUtil.create("a",this._className,this._control).innerHTML=this._html),this._control},onRemove:function(t){}}))}var at=i(5243);function rt(){Ae.locate.prepare||(Ae.locate.active?ht():(nt(),Ae.ctrl.scale&&(Ae.ctrl.scale.remove(),Ae.ctrl.scale=null),nt(),Ae.locate.message=new at.Control.Message({html:Ae.loc.locate.message_locating+'<div class="otm-message-spinner"></div>',className:"otm-message-location",position:"bottomleft"}),Ae.locate.message.addTo(Ae.map),Ae.map.locate({watch:!0,setView:!1,timeout:2e4,maxZoom:17,enableHighAccuracy:!0}),Ae.locate.prepare=!0)),Ae.ctrl.buttonLocate.setToggleState(Ae.locate.prepare||Ae.locate.active)}function st(t){if(Ae.locate.prepare=!1,ct(),Ae.locate.active)Ae.locate.marker.setLatLng(t.latlng),Ae.locate.circle.setLatLng(t.latlng),Ae.locate.circle.setRadius(t.accuracy);else{var e=at.divIcon({className:"otm-marker-location"}),i=Ae.map.getZoom();i<13&&(i=13),Ae.map.setView(t.latlng,i),Ae.locate.marker=at.marker(t.latlng,{icon:e,interactive:!1}).addTo(Ae.map),Ae.locate.circle=at.circle(t.latlng,t.accuracy,{interactive:!1,className:"otm-marker-circle"}).addTo(Ae.map),Ae.locate.active=!0}}function lt(t){ct();var e=t.code;e>2&&(e=2),alert(Ae.loc.locate.errors[e]+" ("+t.code+")"),ht()}function ht(){Ae.map.stopLocate(),Ae.locate.marker&&Ae.locate.marker.remove(),Ae.locate.circle&&Ae.locate.circle.remove(),Ae.locate.prepare=!1,Ae.locate.active=!1,Ae.locate.marker=null,Ae.locate.circle=null,Ae.ctrl.buttonLocate.setToggleState(!1)}function ct(){Ae.locate.message&&(Ae.locate.message.remove(),Ae.locate.message=null,ze())}i(5369);var ut=i(5243);function dt(t,...e){if(!e.length)return t;const i=e.shift();if(bt(t)&&bt(i))for(const e in i)bt(i[e])?(t[e]||Object.assign(t,{[e]:{}}),dt(t[e],i[e])):Object.assign(t,{[e]:i[e]});return dt(t,...e)}function pt(t){"complete"!==document.readyState?window.addEventListener("load",t,{once:!0}):t()}function ft(t,e,i,o){var n;return function(){var a=arguments;clearTimeout(n),n=setTimeout((function(){n=null,o||t.apply(i,a)}),e),o&&!n&&t.apply(i,a)}}const mt=6e4,_t=60*mt,gt=24*_t;function vt(t){let e=Math.floor(t/gt),i=Math.floor((t-e*gt)/_t),o=Math.floor((t-e*gt-i*_t)/mt),n=Math.round((t-e*gt-i*_t-o*mt)/1e3);return 60===n&&(o++,n=0),60===o&&(i++,o=0),24===i&&(e++,i=0),(e?e+"d ":"")+i.toString().padStart(2,0)+":"+o.toString().padStart(2,0)+"'"+n.toString().padStart(2,0)+'"'}function yt(t,e){"string"==typeof t&&(t=JSON.parse(t));let i=!0===(e=e||this).options.distanceMarkers?{lazy:!0}:ut.extend({lazy:!0},e.options.distanceMarkers),o=e.options.gpxOptions.marker_options.wptIcons,n=ut.geoJson(t,{distanceMarkers:i,style:t=>{let i=ut.extend({},e.options.polyline);return e.options.theme&&(i.className+=" "+e.options.theme),i},pointToLayer:(t,i)=>{let n=t.properties,a=n.desc?n.desc:"",r=n.name?n.name:"",s=(n.sym?n.sym:r).replace(" ","-").replace('"',"").replace("'","").toLowerCase();o[s]=o[s]?o[s]:ut.divIcon({className:"elevation-waypoint-marker",html:'<i class="elevation-waypoint-icon '+s+'"></i>',iconSize:[30,30],iconAnchor:[8,30]});let l=ut.marker(i,{icon:o[s]});return(r||a)&&l.bindPopup("<b>"+r+"</b>"+(a.length>0?"<br>"+a:"")).openPopup(),e._registerCheckPoint({latlng:i,label:r},!0),e.fire("waypoint_added",{point:l,element:i,properties:n}),l},onEachFeature:(o,n)=>{o.geometry&&"Point"==o.geometry.type||(n._latlngs.forEach(((t,e,i)=>{if(t.meta={time:null,ele:null,hr:null,cad:null,atemp:null},"alt"in t&&(t.meta.ele=t.alt),o.properties){let i=o.properties;"coordTimes"in i?t.meta.time=new Date(Date.parse(i.coordTimes[e])):"times"in i?t.meta.time=new Date(Date.parse(i.times[e])):"time"in i&&(t.meta.time=new Date(Date.parse("object"==typeof i.time?i.time[e]:i.time))),"heartRates"in i?t.meta.hr=parseInt(i.heartRates[e]):"heartRate"in i&&(t.meta.hr=parseInt("object"==typeof i.heartRate?i.heartRate[e]:i.heartRate))}})),e.addData(n),e.options.distanceMarkers&&i.lazy&&n.on("add remove",(t=>{let e=t.target;ut.DistanceMarkers&&e instanceof ut.Polyline&&e[t.type+"DistanceMarkers"]()})),e.track_info=ut.extend({},e.track_info,{type:"geojson",name:t.name}))}});return ut.Control.Elevation._d3LazyLoader.then((()=>{e._fireEvt("eledata_loaded",{data:t,layer:n,name:e.track_info.name,track_info:e.track_info})})),n}function xt(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function bt(t){return t&&"object"==typeof t&&!Array.isArray(t)}function wt(t){if(!t)return!1;let e=window.getComputedStyle(t);return!!function(t,e){return"hidden"!==e.visibility&&"none"!==e.display}(0,e)&&!!function(t,e){let i=t.getBoundingClientRect(),o=i.left+1,n=i.right-1,a=i.top+1,r=(i.bottom,!0),s=t.style.pointerEvents;return"none"==e["pointer-events"]&&(t.style.pointerEvents="auto"),document.elementFromPoint(o,a)!==t&&(r=!1),document.elementFromPoint(n,a)!==t&&(r=!1),t.style.pointerEvents=s,r}(t,e)}function Lt(t,e){if(e=void 0===e||e,"string"==typeof t&&e)return 0==(t=t.trim()).indexOf("{")||0==t.indexOf("[");try{JSON.parse(t.toString())}catch(i){return!("object"!=typeof t||!e)||(console.warn(i),!1)}return!0}function kt(t,e){if(e=void 0===e||e,"string"==typeof t&&e)return 0==(t=t.trim()).indexOf("<");{let e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName}}function Pt(t,e,i){return!1===e?Promise.resolve():i instanceof Promise?i:new Promise(((e,i)=>{let o=document.createElement("script");o.addEventListener("load",e,{once:!0}),o.src=t,document.head.appendChild(o)}))}function Tt(t,e){let i=Zt("a","",{href:t,target:"_new",download:e||"",style:"display:none;"}),o=document.body;o.appendChild(i),i.click(),o.removeChild(i)}function Ct(t){return new Promise(((e,i)=>{let o=!1,n=()=>{o||(ut.Util.requestAnimFrame((()=>{wt(t)&&(window.removeEventListener("scroll",n),e()),o=!1})),o=!0)};window.addEventListener("scroll",n),t&&t.addEventListener("mouseenter",n,{once:!0}),n()}))}function zt(t,e){t&&e.split(" ").every((e=>e&&ut.DomUtil.addClass(t,e)))}function Mt(t,e){t&&e.split(" ").every((e=>e&&ut.DomUtil.removeClass(t,e)))}function St(t,e,i){return(i?zt:Mt).call(null,t,e)}function Et(t,e,i){e&&Mt(t,e),i&&zt(t,i)}function At(t,e,i){return void 0===i?ut.DomUtil.getStyle(t,e):t.style.setProperty(e,i)}function Ot(t,e,i,o){return At(t,e,o?i:"")}function Bt(t,e,i,o){return t[o?"on":"off"](e,i)}function Zt(t,e,i,o){let n=ut.DomUtil.create(t,e||"");return i&&Nt(n,i),o&&It(o,n),n}function It(t,e){return t.appendChild(e)}function Dt(t,e,i){return t.insertAdjacentElement(i,e)}function Nt(t,e){for(let i in e)t.setAttribute(i,e[i])}function Rt(t,e){return(e||document).querySelector(t)}const Ft=ut.DomEvent.on,jt=ut.DomEvent.off,Ut=ut.DomUtil.hasClass;function Ht(){return Math.random().toString(36).substr(2,9)}function Wt(t,e){for(let i in t)e(t[i],i)}var Vt=i(5243);const Gt={lightblue:{area:"#3366CC",alpha:.45,stroke:"#3366CC"},magenta:{area:"#FF005E"},yellow:{area:"#FF0"},purple:{area:"#732C7B"},steelblue:{area:"#4682B4"},red:{area:"#F00"},lime:{area:"#9CC222",line:"#566B13"}},qt=({width:t,height:e,xAttr:i,yAttr:o,scaleX:n,scaleY:a,interpolation:r="curveLinear"})=>d3.area().curve("string"==typeof r?d3[r]:r).x((t=>t.xDiagCoord=n(t[i]))).y0(e).y1((t=>a(t[o]))),Yt=({name:t,color:e,strokeColor:i,strokeOpacity:o,fillOpacity:n})=>{let a=d3.create("svg:path");return t&&a.classed(t,!0),a.style("pointer-events","none"),a.attr("fill",e||"#3366CC").attr("stroke",i||"#000").attr("stroke-opacity",o||"1").attr("fill-opacity",n||"0.8"),a},Xt=({type:t="axis",tickSize:e=6,tickPadding:i=3,position:o,height:n,width:a,axis:r,scale:s,ticks:l,tickFormat:h,label:c,labelX:u,labelY:d,name:p="",onAxisMount:f})=>m=>{let[_,g]=[0,0];"bottom"==o&&(g=n),"right"==o&&(_=a),"x"==r&&"grid"==t?e=-n:"y"==r&&"grid"==t&&(e=-a);let v=d3["axis"+o.replace(/\b\w/g,(t=>t.toUpperCase()))]().scale(s).ticks(l).tickPadding(i).tickSize(e).tickFormat(h),y=m.append("g").attr("class",[r,t,o,p].join(" ")).attr("transform","translate("+_+","+g+")").call(v);return c&&y.append("svg:text").attr("x",u).attr("y",d).text(c),f&&y.call(f),y},Jt=t=>(t.type="grid",Xt(t)),Kt=({theme:t,xCoord:e=0,yCoord:i=0,length:o=0})=>n=>n.attr("class",t+" height-focus line").attr("x1",e).attr("x2",e).attr("y1",i).attr("y2",o),$t=({theme:t,xCoord:e=0,yCoord:i=0,label:o})=>n=>{n.attr("class",t+" height-focus-label").style("pointer-events","none").attr("x",e+5).attr("y",i);let a=n.select(".height-focus-y");return a.node()||(a=n.append("svg:tspan")),a.attr("class","height-focus-y").text(o),n.selectAll("tspan").attr("x",e+5),n},Qt=({theme:t,xCoord:e=0,yCoord:i=0})=>o=>o.attr("class",t+" height-focus circle-lower").attr("transform","translate("+e+","+i+")").attr("r",6).attr("cx",0).attr("cy",0),te=({name:t,label:e,width:i,height:o,margins:n={},color:a,path:r})=>s=>{s.attr("class","legend-item legend-"+t.toLowerCase()).attr("data-name",t);const l=d3.select(s.node().ownerSVGElement||s);return s.on("click.legend",(()=>l.dispatch("legend_clicked",{detail:{path:r.node(),name:t,legend:s.node(),enabled:!r.classed("leaflet-hidden")}}))),s.append("svg:rect").attr("x",i/2-50).attr("y",o+n.bottom/2).attr("width",50).attr("height",10).attr("fill",a).attr("stroke","#000").attr("stroke-opacity","0.5").attr("fill-opacity","0.25"),s.append("svg:text").text(Vt._(e||t)).attr("x",i/2+5).attr("font-size",10).style("text-decoration-thickness","2px").style("font-weight","700").attr("y",o+n.bottom/2).attr("dy","0.75em"),s},ee=({xCoord:t=0,height:e})=>i=>i.attr("class","mouse-focus-line").attr("x2",t).attr("y2",0).attr("x1",t).attr("y1",e),ie=({xCoord:t,yCoord:e,labelX:i="",labelY:o="",width:n})=>a=>{a.attr("class","mouse-focus-label");let r=a.select(".mouse-focus-label-rect"),s=a.select(".mouse-focus-label-text"),l=s.select(".mouse-focus-label-y"),h=s.select(".mouse-focus-label-x");r.node()||(r=a.append("svg:rect")),s.node()||(s=a.append("svg:text")),l.node()||(l=s.append("svg:tspan")),h.node()||(h=s.append("svg:tspan")),l.text(o),h.text(i);let c=0,u=0,d={width:0,height:0};try{d=s.node().getBBox()}catch(t){return a}return t&&(c=t+(t<n/2?10:-d.width-10)),e&&(u=Math.max(e-d.height,Vt.Browser.webkit?0:-1/0)),r.attr("class","mouse-focus-label-rect").attr("x",c-5).attr("y",u-5).attr("width",d.width+10).attr("height",d.height+10).attr("rx",3).attr("ry",3),s.attr("class","mouse-focus-label-text").style("font-weight","700").attr("y",u),l.attr("class","mouse-focus-label-y").attr("dy","1em"),h.attr("class","mouse-focus-label-x").attr("dy","2em"),s.selectAll("tspan").attr("x",c),a},oe=({height:t,width:e})=>i=>{i.data([{x:0,y:t}]).attr("transform",(t=>"translate("+t.x+","+t.y+")"));let o=i.selectAll(".horizontal-drag-rect").data([{w:e}]),n=i.selectAll(".horizontal-drag-line").data([{w:e}]),a=i.selectAll(".horizontal-drag-label").data([{w:e-8}]),r=i.selectAll(".horizontal-drag-symbol").data([{type:d3.symbolTriangle,x:e+7,y:0,angle:-90,size:50}]);return o.exit().remove(),n.exit().remove(),a.exit().remove(),r.exit().remove(),o.enter().append("svg:rect").attr("class","horizontal-drag-rect").attr("x",0).attr("y",-8).attr("height",8).attr("fill","none").attr("pointer-events","all").merge(o).attr("width",(t=>t.w)),n.enter().append("svg:line").attr("class","horizontal-drag-line").attr("x1",0).merge(n).attr("x2",(t=>t.w)),a.enter().append("svg:text").attr("class","horizontal-drag-label").attr("text-anchor","end").attr("y",-8).merge(a).attr("x",(t=>t.w)),r.enter().append("svg:path").attr("class","horizontal-drag-symbol").merge(r).attr("d",d3.symbol().type((t=>t.type)).size((t=>t.size))).attr("transform",(t=>"translate("+t.x+","+t.y+") rotate("+t.angle+")")),i},ne=({min:t,max:e,attr:i,name:o,forceBounds:n,scale:a})=>function(r){i=i||o,a&&a.attr&&(i=a.attr);let s=r&&r.length?d3.extent(r,(t=>t[i])):[0,1];return void 0!==t&&(t<s[0]||n)&&(s[0]=t),void 0!==e&&(e>s[1]||n)&&(s[1]=e),s},ae=({axis:t})=>function(e,i){return"x"==t?[0,e]:"y"==t?[i,0]:void 0},re=({data:t,attr:e,min:i,max:o,forceBounds:n,range:a})=>d3.scaleLinear().range(a).domain(ne({min:i,max:o,attr:e,forceBounds:n})(t)),se=({data:t=[0,1],scale:e,x:i,attr:o})=>d3.bisector((t=>t[o])).left(t,e.invert(i)),le=({width:t,height:e,margins:i={},ruler:o})=>{const n=t-i.left-i.right,a=e-i.top-i.bottom,r=d3.create("svg:svg").attr("class","background"),s=r.append("g"),l={grid:s.append("g").attr("class","grid"),area:s.append("g").attr("class","area"),point:s.append("g").attr("class","point"),axis:s.append("g").attr("class","axis"),brush:s.append("g").attr("class","brush"),tooltip:s.append("g").attr("class","tooltip").attr("display","none"),ruler:s.append("g").attr("class","ruler"),legend:s.append("g").attr("class","legend")},h=l.area.append("svg:clipPath").attr("id","elevation-clipper"),c=h.append("svg:rect"),u=l.area.append("svg:foreignObject"),d=u.append("xhtml:canvas").attr("class","canvas-plot"),p=d.node().getContext("2d"),f=l.ruler,m=l.tooltip,_=l.brush;m.append("svg:line").call(ee({xCoord:0,height:a})),m.append("g").call(ie({xCoord:0,yCoord:0,height:a,width:n,labelX:"",labelY:""}));let g=d3.brushX().on("start.cursor end.cursor brush.cursor",(()=>_.select(".overlay").attr("cursor",null))),v={clipPath:h,canvas:d,context:p,dragG:f,focusG:m,brush:g},y={svg:r,g:s,panes:l,utils:v,scale:t=>({x:re(t.x),y:re(t.y)}),_resize:({width:t,height:e,margins:i={},ruler:o})=>{const n=t-i.left-i.right,a=e-i.top-i.bottom;r.attr("viewBox",`0 0 ${t} ${e}`).attr("width",t).attr("height",e),s.attr("transform","translate("+i.left+","+i.top+")"),c.attr("x",0).attr("y",0).attr("width",n).attr("height",a),u.attr("width",n).attr("height",a),d.attr("width",n).attr("height",a),o&&f.call(oe({height:a,width:n})),_.call(g.extent([[0,0],[n,a]])),_.select(".overlay").attr("cursor",null),y._width=n,y._height=a,y.svg.dispatch("resize",{detail:{width:n,height:a}})},pane:t=>(l[t]||(l[t]=s.append("g").attr("class",t)),l[t]),get:t=>v[t]};return y._resize({width:t,height:e,margins:i}),y};var he=i(5243),ce=he.Class.extend({includes:he.Evented?he.Evented.prototype:he.Mixin.Events,initialize:function(t,e){this.options=t,this.control=e,this._data=[],this._props={scales:{},paths:{},areas:{},grids:{},axes:{},legendItems:{},focusLabels:{}},this._scales={},this._domains={},this._ranges={},this._paths={},this._brushEnabled=t.dragging,this._zoomEnabled=t.zooming,t.imperial?(this._xLabel="mi",this._yLabel="ft"):(this._xLabel=t.xLabel,this._yLabel=t.yLabel);let i=this._chart=le(t);this._container=i.svg,this._grid=i.pane("grid"),this._area=i.pane("area"),this._point=i.pane("point"),this._axis=i.pane("axis"),this._legend=i.pane("legend"),this._initScale(),this._clipPath=i.get("clipPath"),this._canvas=i.get("canvas"),this._context=i.get("context"),this._dragG=i.get("dragG"),this._focusG=i.get("focusG"),this._brush=i.get("brush"),this._focusline=this._focusG.select(".mouse-focus-line"),this._focuslabel=this._focusG.select(".mouse-focus-label"),this._zoom=d3.zoom(),this._drag=d3.drag(),this._initInteractions()},update:function(t){return t&&(t.data&&(this._data=t.data),t.options&&(this.options=t.options)),this._updateScale(),this._updateArea(),this._updateAxis(),this._updateLegend(),this._updateClipper(),this},render:function(){return t=>t.append((()=>this._container.node()))},clear:function(){this._resetDrag(),this._area.selectAll("path").attr("d","M0 0"),this._context.clearRect(0,0,this._width(),this._height()),this._path},_drawPath:function(t){let e=this.options,i=this._context,o=this._paths[t],n=this._props.areas[t],a=o.node(),r=this._scales[n.scaleX],s=this._scales[n.scaleY];if(n=he.extend({},n,{width:this._width(),height:this._height(),scaleX:r,scaleY:s}),!s||!s)return console.warn("Unable to render path:"+t);if(o.datum(this._data).attr("d",qt(n)),!o.classed("leaflet-hidden"))if(e.preferCanvas){o.classed("canvas-path",!0),i.beginPath(),i.moveTo(0,0);let t=new Path2D(o.attr("d"));i.strokeStyle=o.attr("stroke"),i.fillStyle=o.attr("fill"),i.lineWidth=1.25,i.globalCompositeOperation="source-over",i.globalAlpha=o.attr("stroke-opacity")||.3,i.stroke(t),i.globalAlpha=o.attr("fill-opacity")||.45,i.fill(t),i.globalAlpha=1,i.closePath()}else this._area.append((()=>a))},_hasActiveLayers:function(){const t=this._paths;for(var e in t)if(!t[e].classed("leaflet-hidden"))return!0;return!1},_initBrush:function(t){const e=t=>{if("brush"==t.type&&!t.sourceEvent)return;let e=this._chart.panes.brush.select(".overlay").node(),i=d3.pointers(t,e)[0][0],o=this._data[this._findIndexForXCoord(i)];this.fire("mouse_move",{item:o,xCoord:i})};this._brush.filter((t=>this._brushEnabled&&!t.shiftKey&&!t.button)).on("end.update",(t=>{let e=t.selection;if(e){let t=this._findIndexForXCoord(e[0]),i=this._findIndexForXCoord(e[1]);this.fire("dragged",{dragstart:this._data[t],dragend:this._data[i]})}})).on("brush.update",e),this._chart.panes.brush.on("mouseenter.focus touchstart.focus",this.fire.bind(this,"mouse_enter")).on("mouseout.focus touchend.focus",this.fire.bind(this,"mouse_out")).on("mousemove.focus touchmove.focus",e)},_initClipper:function(){let t=this._container,e=this.options.margins;const i=this._zoom;i.scaleExtent([1,10]).extent([[e.left,0],[this._width()-e.right,this._height()]]).translateExtent([[e.left,-1/0],[this._width()-e.right,1/0]]).filter((t=>this._zoomEnabled&&(t.shiftKey||4==t.buttons))).on("start",(e=>{e.sourceEvent&&"mousedown"==e.sourceEvent.type&&t.style("cursor","grabbing"),1==e.transform.k&&0==e.transform.x&&this._container.classed("zoomed",!0),this.zooming=!0})).on("end",(e=>{1==e.transform.k&&0==e.transform.x&&this._container.classed("zoomed",!1),this.zooming=!1,t.style("cursor","")})).on("zoom",(t=>{this.zooming=!1,this._updateScale(),this.zooming=!0,this._scales.distance=this._x=t.transform.rescaleX(this._x),this._resetDrag(),t.sourceEvent&&"mousemove"==t.sourceEvent.type&&this._hideDiagramIndicator(),this.fire("zoom")})),t.call(i)},_initInteractions:function(){this._initBrush(),this._initRuler(),this._initClipper(),this._initLegend()},_initLegend:function(){this._container.on("legend_clicked",(t=>{let{path:e,legend:i,name:o,enabled:n}=t.detail;if(!e)return;let a=Rt("text",i),r=Rt("rect",i);Ot(a,"text-decoration-line","line-through",n),Ot(r,"fill-opacity","0",n),St(e,"leaflet-hidden",n),this._updateArea(),this.fire("elepath_toggle",{path:e,name:o,legend:i,enabled:n})}))},_initRuler:function(){if(!this.options.ruler)return;const t=d3.format(".0f"),e=this._drag;e.on("start end",((t,e)=>{let i=this._height(),o=this._dragG.data()[0].y;(o>=i||o<=0)&&this._dragG.select(".horizontal-drag-label").text(""),this._hideDiagramIndicator()})).on("drag",((e,i)=>{let o=this._height(),n=d3.pointers(e,this._area.node())[0][1],a=n>0?n<o?n:o:0,r=this._y.invert(a),s=he.extend(this._dragG.data()[0],{y:a});this._dragG.data([s]).attr("transform",(t=>"translate("+t.x+","+t.y+")")).classed("active",a<o),this._container.select(".horizontal-drag-label").text(t(r)+" "+this._yLabel),this.fire("ruler_filter",{coords:n<o&&n>0?this._findCoordsForY(n):[]})})),this._dragG.call(e)},_initScale:function(){let t=this.options;this._registerAxisScale({axis:"x",position:"bottom",attr:t.xAttr,min:t.xAxisMin,max:t.xAxisMax,name:"distance"}),this._registerAxisScale({axis:"y",position:"left",attr:t.yAttr,min:t.yAxisMin,max:t.yAxisMax,name:"altitude"}),this._x=this._scales.distance,this._y=this._scales.altitude},_registerAreaPath:function(t){let e=this.options;t.xAttr||(t.xAttr=e.xAttr),t.yAttr||(t.yAttr=e.yAttr),void 0===t.preferCanvas&&(t.preferCanvas=e.preferCanvas);let i=Yt(t);this._paths[t.name]=i,this._props.areas[t.name]=t,e.legend&&(this._props.legendItems[t.name]={name:t.name,label:t.label,color:t.color,path:i})},_registerAxisGrid:function(t){this._props.grids[t.name||t.axis]=t},_registerAxisScale:function(t){let e=this.options,i=t.scale;if("function"!=typeof i){i=he.extend({data:this._data,forceBounds:e.forceAxisBounds},i),i.attr=i.attr||t.name;let o=this._domains[t.name]=ne(t),n=this._ranges[t.name]=ae(t);i.range=i.range||n(this._width(),this._height()),i.domain=i.domain||o(this._data),this._props.scales[t.name]=i,t.scale=this._scales[t.name]=re(i)}return t.ticks||("x"==t.axis?t.ticks=e.xTicks:"y"==t.axis&&(t.ticks=e.yTicks)),this._props.axes[t.name]=t,i},_registerCheckPoint:function(t){if(!this._data.length)return;let e,i,o;if(t.latlng)e=this._data[this._findIndexForLatLng(t.latlng)],i=this._x(e.dist),o=this._y(e.z);else if(isNaN(t.dist)){if(isNaN(i)||isNaN(o))return}else i=this._x(t.dist),e=this._data[this._findIndexForXCoord(i)],o=this._y(e.z);t.item&&t.item.property("isConnected")||(t.position=t.position||"bottom",t.item=this._point.append("g"),t.item.append("svg:line").attr("y1",0).attr("x1",0).attr("style","stroke: rgb(51, 51, 51); stroke-width: 0.5; stroke-dasharray: 2, 2;"),t.item.append("svg:circle").attr("class"," height-focus circle-lower").attr("r",3),t.label&&t.item.append("svg:text").attr("dx","4px").attr("dy","-4px")),t.item.datum({pos:t.position,x:i,y:o}).attr("class",(t=>"point "+t.pos)).attr("transform",(t=>"translate("+t.x+","+t.y+")")),t.item.select("line").datum({y2:{top:-o,bottom:this._height()-o}[t.position],x2:{left:-i,right:this._width()-i}[t.position]||0}).attr("y2",(t=>t.y2)).attr("x2",(t=>t.x2)),t.label&&t.item.select("text").text(t.label)},_registerFocusLabel:function(t){this._props.focusLabels[t.name]=t},_updateArea:function(){let t=this._paths;for(var e in this._context.clearRect(0,0,this._width(),this._height()),t)t[e].classed("leaflet-hidden")||this._drawPath(e)},_updateAxis:function(){let t=this.options;this._grid.selectAll("g").remove(),this._axis.selectAll("g").remove();let e,i,o,n=this._props.grids,a=this._props.axes,r={width:this._width(),height:this._height(),tickFormat:""},s={width:this._width(),height:this._height()};for(let t in n)e=he.extend({},r,n[t]),o=Jt(e),this._grid.call(o);for(let o in a)!1!==t[o]&&"summary"!==t[o]&&(e=he.extend({},s,a[o]),i=Xt(e),this._axis.call(i));this._axis.selectAll(".y.axis.right").each(((t,e,i)=>{let o=d3.select(i[e]),n=o.attr("transform"),a=n.substring(n.indexOf("(")+1,n.indexOf(")")).split(",");o.attr("transform","translate("+(+a[0]+40*e)+","+a[1]+")"),e>0&&(o.select(":scope > path").attr("opacity",.25),o.selectAll(":scope > .tick line").attr("opacity",.75))}))},_updateClipper:function(){let t=this.options.margins;this._zoom.scaleExtent([1,10]).extent([[t.left,0],[this._width()-t.right,this._height()]]).translateExtent([[t.left,-1/0],[this._width()-t.right,1/0]])},_updateLegend:function(){if(0==this.options.legend)return;let t,e=this._props.legendItems;for(var i in this._legend.selectAll("g").remove(),e)t=te(he.extend({width:this._width(),height:this._height(),margins:this.options.margins},e[i])),this._legend.append("g").call(t);let o=this._legend.selectAll(".legend-item"),n=o.nodes().length,a=Array(Math.floor(n/2)).fill(null).map(((t,e)=>2*(e+1)-(1-Math.sign(n%2)))),r=a.slice().reverse().map((t=>-t));n%2!=0&&r.push(0),a=r.concat(a);let s=this._axis.selectAll(".x.axis.bottom").nodes().length,l=30+2*s,h=30*n;n&&this.options.margins.right<h&&(this.options.margins.right=h,this.fire("margins_updated")),s&&this.options.margins.bottom<l&&(this.options.margins.bottom=l,this.fire("margins_updated")),o.each(((t,e,i)=>{let o=d3.select(i[e]),n=(o.select("rect"),o.attr("data-name")),r=this._paths[n],l=55*a[e],h=2*s;o.attr("transform","translate("+l+", "+h+")"),n in this.options&&"disabled"==this.options[n]&&(r.classed("leaflet-hidden",!0),o.select("text").style("text-decoration-line","line-through"),o.select("rect").style("fill-opacity","0")),this._clipPath&&r.attr("clip-path","url(#"+this._clipPath.attr("id")+")")}))},_updateScale:function(){if(this.zooming)return{x:this._x,y:this._y};this.options;let t=this._scales,e=this._domains,i=this._ranges;for(let o in t)t[o].domain(e[o](this._data)).range(i[o](this._width(),this._height()));return{x:this._x,y:this._y}},_width:function(){return this._chart._width},_height:function(){return this._chart._height},_findCoordsForY:function(t){let e=this._data,i=this._y.invert(t);const o=e.reduce(((t,e,o)=>(e.z>=i&&t.push(o),t)),[]);let n,a=0;return o.reduce(((t,i,r)=>(n=r+1,o[n]===o[r]+1&&n!==o.length||(t.push(o.slice(a,n).map((t=>e[t].latlng))),a=n),t)),[])},_findIndexForXCoord:function(t){return d3.bisector((t=>t[this.options.xAttr])).left(this._data||[0,1],this._x.invert(t))},_findIndexForLatLng:function(t){let e=null,i=1/0;return this._data.forEach(((o,n)=>{let a=t.distanceTo(o.latlng);a<i&&(i=a,e=n)})),e},_resetDrag:function(){this._chart.panes.brush.select(".selection").attr("width")&&(this._chart.panes.brush.call(this._brush.clear),this._hideDiagramIndicator(),this.fire("reset_drag"))},_resetZoom:function(){this._zoom&&this._zoom.transform(this._chart.svg,d3.zoomIdentity)},_showDiagramIndicator:function(t,e){let i=this.options,o=this._y(t[i.yAttr]);this._focusG.attr("display",null),this._focusline.call(ee({xCoord:e,height:this._height()})),this._focuslabel.call(ie({xCoord:e,yCoord:o,height:this._height(),width:this._width(),labelX:d3.format("."+i.decimalsX+"f")(t[i.xAttr])+" "+this._xLabel,labelY:d3.format("."+i.decimalsY+"f")(t[i.yAttr])+" "+this._yLabel}));let n,a=this._props.focusLabels,r=this._focuslabel.select("text");for(var s in a)n=r.select(".mouse-focus-label-"+a[s].name),n.size()||(n=r.append("svg:tspan",".mouse-focus-label-x").attr("class","mouse-focus-label-"+a[s].name).attr("dy","1.5em")),n.text("function"!=typeof a[s].value?a[s].value:a[s].value(t)),this._focuslabel.select(".mouse-focus-label-x").attr("dy","1.5em")},_hideDiagramIndicator:function(){this._focusG.attr("display","none")}}),ue=i(5243),de=ue.Class.extend({initialize:function(t){return this.options=t,this.options.imperial?(this._xLabel="mi",this._yLabel="ft"):(this._xLabel=this.options.xLabel,this._yLabel=this.options.yLabel),"elevation-line"==this.options.marker?(this._focusline=d3.create("svg:line"),this._focusmarker=d3.create("svg:circle"),this._focuslabel=d3.create("svg:text")):"position-marker"==this.options.marker&&(this._marker=ue.marker([0,0],{icon:this.options.markerIcon,zIndexOffset:1e6,interactive:!1})),this._focuslabels={},this},addTo:function(t){if(this._map=t,"elevation-line"==this.options.marker){let e=this._container=d3.select(t.getPane("elevationPane")).select("svg > g").attr("class","height-focus-group");e.append((()=>this._focusline.node())),e.append((()=>this._focusmarker.node())),e.append((()=>this._focuslabel.node()))}else"position-marker"==this.options.marker&&this._marker.addTo(t,{pane:"overlayPane"});return this},update:function(t){if(t?this._props=t:t=this._props,!t)return;t.options&&(this.options=t.options),this._map||this.addTo(t.map);let e=this.options,i=this._map;this._latlng=t.item.latlng;let o=i.latLngToLayerPoint(this._latlng);i._rotate&&(o=i.rotatedPointToMapPanePoint(o));let n=ue.extend({},t.item,o);if("elevation-line"==this.options.marker){let i=this._height()/t.maxElevation*n.z,o=n.y-i;this._container.classed("leaflet-hidden",!1),this._focusmarker.call(Qt({theme:e.theme,xCoord:n.x,yCoord:n.y})),this._focusline.call(Kt({theme:e.theme,xCoord:n.x,yCoord:n.y,length:o})),this._focuslabel.call($t({theme:e.theme,xCoord:n.x,yCoord:o,label:d3.format("."+e.decimalsY+"f")(n[e.yAttr])+" "+this._yLabel}));let r,s=this._focuslabels,l=this._focuslabel;for(var a in s)r=l.select(".height-focus-"+s[a].name),r.size()||(r=l.append("svg:tspan").attr("class","height-focus-"+s[a].name).attr("dy","1.5em")),r.text("function"!=typeof s[a].value?s[a].value:s[a].value(t.item)),this._focuslabel.select(".height-focus-y").attr("dy","-1.5em")}else"position-marker"==this.options.marker&&(Mt(this._marker.getElement(),"leaflet-hidden"),this._marker.setLatLng(this._latlng))},remove:function(){this._props=null,"elevation-line"==this.options.marker?this._container&&this._container.classed("leaflet-hidden",!0):"position-marker"==this.options.marker&&zt(this._marker.getElement(),"leaflet-hidden")},getLatLng:function(){return this._latlng},_height:function(){let t=this.options;return t.height-t.margins.top-t.margins.bottom},_registerFocusLabel:function(t){this._focuslabels[t.name]=t}}),pe=i(5243),fe=pe.Class.extend({initialize:function(t,e){this.options=t,this.control=e,At(this._container=Zt("div","elevation-summary "+(t.summary?t.summary+"-summary":"")),"max-width",t.width?t.width+"px":"")},render:function(){return t=>t.append((()=>this._container))},reset:function(){this._container.innerHTML=""},append:function(t,e,i){return this._container.innerHTML+=`<span class="${t}"><span class="summarylabel">${e}</span><span class="summaryvalue">${i}</span></span>`,this},_registerSummary:function(t){for(let e in t)this.append(e,pe._(t[e].label),"function"!=typeof t[e].value?t[e].value:t[e].value(this.control.track_info))}}),me=i(5243),_e={autofitBounds:!0,autohide:!me.Browser.mobile,autohideMarker:!0,almostover:!0,altitude:!0,collapsed:!1,detached:!0,distance:!0,distanceFactor:1,distanceMarkers:!1,decimalsX:2,decimalsY:0,dragging:!me.Browser.mobile,downloadLink:"link",elevationDiv:"#elevation-div",followMarker:!0,forceAxisBounds:!1,gpxOptions:{async:!0,marker_options:{startIconUrl:null,endIconUrl:null,shadowUrl:null,wptIcons:{"":me.divIcon({className:"elevation-waypoint-marker",html:'<i class="elevation-waypoint-icon"></i>',iconSize:[30,30],iconAnchor:[8,30]})}}},height:200,heightFactor:1,imperial:!1,interpolation:"curveLinear",lazyLoadJS:!0,legend:!0,loadData:{defer:!1,lazy:!1},margins:{top:30,right:30,bottom:30,left:40},marker:"elevation-line",markerIcon:me.divIcon({className:"elevation-position-marker",html:'<i class="elevation-position-icon"></i>',iconSize:[32,32],iconAnchor:[16,16]}),placeholder:!1,position:"topright",polyline:{className:"elevation-polyline",color:"#000",opacity:.75,weight:5,lineCap:"round"},polylineSegments:{className:"elevation-polyline-segments",color:"#F00",interactive:!1},preferCanvas:!1,reverseCoords:!1,ruler:!0,skipNullZCoords:!1,theme:"lightblue-theme",responsive:!0,summary:"inline",slope:!1,speed:!1,sLimit:void 0,time:!1,timeFactor:3600,timeFormat:!1,sDeltaMax:void 0,sInterpolation:"curveStepAfter",sRange:void 0,width:600,xAttr:"dist",xLabel:"km",xTicks:void 0,yAttr:"z",yAxisMax:void 0,yAxisMin:void 0,yLabel:"m",yTicks:void 0,zFollow:!1,zooming:!me.Browser.Mobile},ge=i(5243),ve=i(7520);const ye=ge.Control.Elevation=ge.Control.extend({includes:ge.Evented?ge.Evented.prototype:ge.Mixin.Events,options:_e,__mileFactor:.621371,__footFactor:3.28084,__D3:"https://unpkg.com/d3@6.5.0/dist/d3.min.js",__TOGEOJSON:"https://unpkg.com/@tmcw/togeojson@4.3.0/dist/togeojson.umd.js",__LGEOMUTIL:"https://unpkg.com/leaflet-geometryutil@0.9.3/src/leaflet.geometryutil.js",__LALMOSTOVER:"https://unpkg.com/leaflet-almostover@1.0.1/src/leaflet.almostover.js",__LDISTANCEM:"https://unpkg.com/@raruto/leaflet-elevation@1.6.8/libs/leaflet-distance-marker.min.js",addData:function(t,e){null==e&&t.on&&(e=t),ye._d3LazyLoader=Pt(this.__D3,"object"!=typeof d3||!this.options.lazyLoadJS,ye._d3LazyLoader).then((()=>{this._addData(t),this._addLayer(e),this._fireEvt("eledata_added",{data:t,layer:e,track_info:this.track_info})}))},addTo:function(t){if(this.options.detached){let e=this._initElevationDiv();e.isConnected||Dt(t.getContainer(),e,"afterend"),It(e,this.onAdd(t))}else ge.Control.prototype.addTo.call(this,t);return this},clear:function(){this._marker&&this._marker.remove(),this._chart&&this._chart.clear(),this._layers&&this._layers.clearLayers(),this._data=[],this.track_info={},this._fireEvt("eledata_clear")},disableBrush:function(){this._chart._brushEnabled=!1,this._resetDrag()},enableBrush:function(){this._chart._brushEnabled=!0},enableDragging:function(){this.enableBrushing()},disableDragging:function(){this.disableBrushing()},disableZoom:function(){this._chart._zoomEnabled=!1,this._chart._resetZoom()},enableZoom:function(){this._chart._zoomEnabled=!0},fitBounds:function(t){t=t||this.getBounds(),this._map&&t.isValid()&&this._map.fitBounds(t)},getBounds:function(t){return t=t||this._data,ge.latLngBounds(t.map((t=>t.latlng)))},getZFollow:function(){return this._zFollow},hide:function(){At(this._container,"display","none")},initialize:function(t){this._data=[],this._layers=ge.featureGroup(),this._markedSegments=ge.polyline([]),this._chartEnabled=!0,this.track_info={},this.options=dt({},this.options,t),this._zFollow=this.options.zFollow,this.options.followMarker&&(this._setMapView=ge.Util.throttle(this._setMapView,300,this)),this.options.placeholder&&(this.options.loadData.lazy=this.options.loadData.defer=!0),this.options.legend&&(this.options.margins.bottom+=30),this.options.theme&&(this.options.polylineSegments.className+=" "+this.options.theme),this._markedSegments.setStyle(this.options.polylineSegments),ge.extend(Gt,this.options.colors||{})},load:function(t,e){this.loadData(t,e)},loadChart:function(t){this.addTo(t)},loadData:function(t,e){(e=ge.extend({},this.options.loadData,e)).defer?this.loadDefer(t,e):e.lazy?this.loadLazy(t,e):kt(t)?this.loadXML(t):Lt(t)?this.loadGeoJSON(t):this.loadFile(t)},loadDefer:function(t,e){(e=ge.extend({},this.options.loadData,e)).defer=!1,pt(ge.bind(this.loadData,this,t,e))},loadFile:function(t){fetch(t).then((t=>t.text())).then((e=>{this._downloadURL=t,this.loadData(e,{lazy:!1,defer:!1})})).catch((t=>console.warn(t)))},loadGeoJSON:function(t){yt(t,this)},loadGPX:function(t){this.loadXML(t)},loadXML:function(t){ye._togeojsonLazyLoader=Pt(this.__TOGEOJSON,"function"!=typeof ve||!this.options.lazyLoadJS,ye._togeojsonLazyLoader).then((()=>{let e=(new DOMParser).parseFromString(t,"text/xml"),i=e.documentElement.tagName.toLowerCase();i in ve||(i="TrainingCenterDatabase"==e.documentElement.tagName?"tcx":"gpx");let o=ve[i](e),n=e.getElementsByTagName("name");return n[0]?o.name=n[0].innerHTML:this._downloadURL&&(o.name=this._downloadURL.split("/").pop().split("#")[0].split("?")[0]),this.loadGeoJSON(o,this)}))},loadLazy:function(t,e){let i=(e=ge.extend({},this.options.loadData,e)).lazy.parentNode?e.lazy:this.placeholder;Ct(i).then((()=>{e.lazy=!1,this.loadData(t,e),this.once("eledata_loaded",(()=>this.placeholder.parentNode.removeChild(i)))}))},onAdd:function(t){this._map=t;let e=this._container=Zt("div","elevation-control elevation "+this.options.theme);return this.options.detached||zt(e,"leaflet-control"),this.options.placeholder&&!this._data.length&&(this.placeholder=Zt("img","elevation-placeholder","string"==typeof this.options.placeholder?{src:this.options.placeholder,alt:""}:this.options.placeholder),Dt(e,this.placeholder,"afterbegin")),ye._d3LazyLoader=Pt(this.__D3,"object"!=typeof d3||!this.options.lazyLoadJS,ye._d3LazyLoader).then((()=>{this._initButton(e),this._initChart(e),this._initSummary(e),this._initMarker(t),this._initLayer(t),t.on("zoom viewreset zoomanim",this._hideMarker,this).on("resize",this._resetView,this).on("resize",this._resizeChart,this).on("rotate",this._rotateMarker,this).on("mousedown",this._resetDrag,this),Ft(t.getContainer(),"mousewheel",this._resetDrag,this),Ft(t.getContainer(),"touchstart",this._resetDrag,this),this.on("eledata_added eledata_loaded",this._updateChart,this).on("eledata_added eledata_loaded",this._updateSummary,this),this._updateChart(),this._updateSummary()})),e},onRemove:function(t){this._container=null,t.off("zoom viewreset zoomanim",this._hideMarker,this).off("resize",this._resetView,this).off("resize",this._resizeChart,this).off("mousedown",this._resetDrag,this),jt(t.getContainer(),"mousewheel",this._resetDrag,this),jt(t.getContainer(),"touchstart",this._resetDrag,this),this.off("eledata_added eledata_loaded",this._updateChart,this).off("eledata_added eledata_loaded",this._updateSummary,this)},redraw:function(){this._resizeChart()},setZFollow:function(t){this._zFollow=t},show:function(){At(this._container,"display","block")},_addData:function(t){if(!t)return;let e=t.geometry;if(e)switch(e.type){case"LineString":this._addGeoJSONData(e.coordinates);break;case"MultiLineString":Wt(e.coordinates,(t=>this._addGeoJSONData(t)));break;default:console.warn("Unsopperted GeoJSON feature geometry type:"+e.type)}"FeatureCollection"===t.type&&Wt(t.features,(t=>this._addData(t))),t._latlngs&&this._addGPXData(t._latlngs)},_addGeoJSONData:function(t){Wt(t,(t=>{this._addPoint(t[1],t[0],t[2]),this._fireEvt("elepoint_added",{point:t,index:this._data.length-1})})),this._fireEvt("eletrack_added",{coords:t,index:this._data.length-1})},_addGPXData:function(t){Wt(t,(t=>{this._addPoint(t.lat,t.lng,t.meta.ele),this._fireEvt("elepoint_added",{point:t,index:this._data.length-1})})),this._fireEvt("eletrack_added",{coords:t,index:this._data.length-1})},_addPoint:function(t,e,i){this.options.reverseCoords&&([t,e]=[e,t]),this._data.push({x:t,y:e,z:i,latlng:ge.latLng(t,e,i)}),this._fireEvt("eledata_updated",{index:this._data.length-1})},_addLayer:function(t){t&&this._layers.addLayer(t)},_initElevationDiv:function(){let t=Rt(this.options.elevationDiv);return t||(this.options.elevationDiv="#elevation-div_"+Ht(),t=Zt("div","leaflet-control elevation elevation-div",{id:this.options.elevationDiv.substr(1)})),this.options.detached&&Et(t,"leaflet-control","elevation-detached"),this.eleDiv=t,this.eleDiv},_collapse:function(){Et(this._container,"elevation-expanded","elevation-collapsed")},_expand:function(){Et(this._container,"elevation-collapsed","elevation-expanded")},_findItemForLatLng:function(t){return this._data[this._chart._findIndexForLatLng(t)]},_findItemForX:function(t){return this._data[this._chart._findIndexForXCoord(t)]},_fireEvt:function(t,e,i){this.fire&&this.fire(t,e,i),this._map&&this._map.fire(t,e,i)},_height:function(){if(this._chart)return this._chart._height();let t=this.options;return t.height-t.margins.top-t.margins.bottom},_hideMarker:function(){this.options.autohideMarker&&this._marker.remove()},_initChart:function(t){let e=this.options;if(e.xTicks=this._xTicks(),e.yTicks=this._yTicks(),e.responsive)if(e.detached){let{offsetWidth:t,offsetHeight:i}=this.eleDiv;t>0&&(e.width=t),i>20&&(e.height=i-20)}else{let{clientWidth:t}=this._map.getContainer();e._maxWidth=e._maxWidth>e.width?e._maxWidth:e.width,this._container.style.maxWidth=e._maxWidth+"px",e._maxWidth>t&&(e.width=t-30)}let i=this._chart=new ce(e,this);this._x=this._chart._x,this._y=this._chart._y,d3.select(t).call(i.render()),i.on("reset_drag",this._hideMarker,this).on("mouse_enter",this._fireEvt.bind("elechart_enter"),this).on("dragged",this._dragendHandler,this).on("mouse_move",this._mousemoveHandler,this).on("mouse_out",this._mouseoutHandler,this).on("ruler_filter",this._rulerFilterHandler,this).on("zoom",this._updateChart,this).on("elepath_toggle",this._toggleChartHandler,this).on("margins_updated",this._resizeChart,this),this._fireEvt("elechart_axis"),this.options.legend&&this._fireEvt("elechart_legend"),this._fireEvt("elechart_init")},_initLayer:function(){this._layers.on("layeradd layerremove",(t=>{let e=t.layer;St(e.getElement&&e.getElement(),this.options.polyline.className+" "+this.options.theme,"layeradd"==t.type),Bt(e,"mousemove",this._mousemoveLayerHandler.bind(this),"layeradd"==t.type),Bt(e,"mouseout",this._mouseoutHandler.bind(this),"layeradd"==t.type)}))},_initMarker:function(t){let e=t.getPane("elevationPane");e||(e=this._pane=t.createPane("elevationPane",t.getPane("norotatePane")||t.getPane("mapPane")),e.style.zIndex=625,e.style.pointerEvents="none"),this._renderer&&this._renderer.remove(),this._renderer=ge.svg({pane:"elevationPane"}).addTo(this._map),this._marker=new de(this.options),this._fireEvt("elechart_marker")},_initButton:function(t){if(t.setAttribute("aria-haspopup",!0),this.options.detached||ge.DomEvent.disableClickPropagation(t),ge.Browser.mobile&&Ft(t,"click",ge.DomEvent.stopPropagation),Ft(t,"mousewheel",this._mousewheelHandler,this),!this.options.detached){let e=this._button=Zt("a","elevation-toggle elevation-toggle-icon"+(this.options.autohide?"":" close-button"),{href:"#",title:ge._("Elevation")},t);this.options.collapsed&&(this._collapse(),this.options.autohide?(Ft(t,"mouseover",this._expand,this),Ft(t,"mouseout",this._collapse,this)):(Ft(e,"click",ge.DomEvent.stop),Ft(e,"click",this._toggle,this)),Ft(e,"focus",this._toggle,this),this._map.on("click",this._collapse,this))}},_initSummary:function(t){let e=this._summary=new fe({summary:this.options.summary},this);d3.select(t).call(e.render()),this.summaryDiv=this._summary._container},_dragendHandler:function(t){this._hideMarker(),this.fitBounds(ge.latLngBounds([t.dragstart.latlng,t.dragend.latlng])),this._fireEvt("elechart_dragged")},_mousemoveHandler:function(t){if(!this._data.length||!this._chartEnabled)return;let e=this._findItemForX(t.xCoord);if(e){let i=t.xCoord;this._chartEnabled&&this._chart._showDiagramIndicator(e,i),this._updateMarker(e),this._setMapView(e),this._map&&zt(this._map.getContainer(),"elechart-hover"),this._fireEvt("elechart_change",{data:e,xCoord:i}),this._fireEvt("elechart_hover",{data:e,xCoord:i})}},_mousemoveLayerHandler:function(t){if(!this._data.length)return;let e=this._findItemForLatLng(t.latlng);if(e){let t=e.xDiagCoord;this._chartEnabled&&this._chart._showDiagramIndicator(e,t),this._updateMarker(e),this._fireEvt("elechart_change",{data:e,xCoord:t})}},_mouseoutHandler:function(){this.options.detached||(this._hideMarker(),this._chart._hideDiagramIndicator()),this._map&&Mt(this._map.getContainer(),"elechart-hover"),this._fireEvt("elechart_leave")},_mousewheelHandler:function(t){if(this._map.gestureHandling&&this._map.gestureHandling._enabled)return;let e=this._marker.getLatLng()||this._map.getCenter(),i=this._map.getZoom()+Math.sign(t.deltaY);this._resetDrag(),this._map.flyTo(e,i)},_registerCheckPoint:function(t){this.on("elechart_updated",(()=>this._chart._registerCheckPoint(t)))},_registerAreaPath:function(t){this.on("elechart_init",(()=>this._chart._registerAreaPath(t)))},_registerAxisGrid:function(t){this.on("elechart_axis",(()=>this._chart._registerAxisGrid(t)))},_registerAxisScale:function(t){this.on("elechart_axis",(()=>this._chart._registerAxisScale(t)))},_registerFocusLabel:function(t){if(t.chart){let e=ge.extend({},t,{value:t.chart});this.on("elechart_init",(()=>this._chart._registerFocusLabel(e)))}if(t.marker){let e=ge.extend({},t,{value:t.marker});this.on("elechart_marker",(()=>this._marker._registerFocusLabel(e)))}},_registerSummary:function(t){this.on("elechart_summary",(()=>this._summary._registerSummary(t)))},_resetDrag:function(){this._chart._resetDrag(),this._hideMarker()},_resetView:function(){this._map&&this._map._isFullscreen||(this._resetDrag(),this._hideMarker(),this.options.autofitBounds&&this.fitBounds())},_resizeChart:function(){if("none"==At(this._container,"display"))return;let t=this.options;if(t.responsive){let e;if(t.detached)e=(this.eleDiv||this._container).offsetWidth;else{let{clientWidth:i}=this._map.getContainer();e=t._maxWidth>i?i-30:t._maxWidth}if(e){let i=this._chart;t.width=e,i&&i._chart&&(i._chart._resize(t),t.xTicks=this._xTicks(),t.yTicks=this._yTicks(),this._updateChart())}}this._updateMapSegments()},_rulerFilterHandler:function(t){this._updateMapSegments(t.coords)},_toggle:function(){Ut(this._container,"elevation-expanded")?this._collapse():this._expand()},_setMapView:function(t){if(!this.options.followMarker||!this._map)return;let e=this._map.getZoom();"number"==typeof this._zFollow?(e<this._zFollow&&(e=this._zFollow),this._map.setView(t.latlng,e,{animate:!0,duration:.25})):this._map.getBounds().contains(t.latlng)||this._map.setView(t.latlng,e,{animate:!0,duration:.25})},_toggleChartHandler:function(t){let{path:e,name:i,enabled:o}=t;this._chartEnabled=this._chart._hasActiveLayers(),this._layers.eachLayer((t=>{St(t.getElement&&t.getElement(),this.options.polyline.className+" "+this.options.theme,this._chartEnabled)})),this.options[i]=o||"disabled"!=this.options[i]?"disabled":"enabled",this._chartEnabled||(this._chart._hideDiagramIndicator(),this._marker.remove())},_updateChart:function(){this._data.length&&this._container&&(this._fireEvt("elechart_axis"),this._fireEvt("elechart_area"),this._chart.update({data:this._data,options:this.options}),this._x=this._chart._x,this._y=this._chart._y,this._fireEvt("elechart_updated"))},_updateMarker:function(t){this._marker&&this._marker.update({map:this._map,item:t,maxElevation:this.track_info.elevation_max||0,options:this.options})},_rotateMarker:function(){this._marker&&this._marker.update()},_updateMapSegments:function(t){this._markedSegments.setLatLngs(t||[]),t&&this._map&&!this._map.hasLayer(this._markedSegments)&&this._markedSegments.addTo(this._map)},_updateSummary:function(){this._summary.reset(),this.options.summary&&this._fireEvt("elechart_summary"),this.options.downloadLink&&this._downloadURL&&(this.summaryDiv.innerHTML+='<span class="download"><a href="#">'+ge._("Download")+"</a></span>",Rt(".download a",this.summaryDiv).onclick=t=>{t.preventDefault(),this._fireEvt("eletrack_download",{downloadLink:this.options.downloadLink,confirm:Tt.bind(this,this._downloadURL)})})},_width:function(){if(this._chart)return this._chart._width();let t=this.options;return t.width-t.margins.left-t.margins.right},_xTicks:function(){return this.__xTicks&&(this.__xTicks=this.options.xTicks),this.__xTicks||Math.round(this._width()/75)},_yTicks:function(){return this.__yTicks&&(this.__yTicks=this.options.yTicks),this.__yTicks||Math.round(this._height()/30)}});ye.addInitHook((function(){this.on("waypoint_added",(function(t){let e=t.point,i=e._popup;i&&(i.options.className="elevation-popup"),i&&i._content&&(i._content=decodeURI(i._content),e.bindTooltip(i._content,{direction:"auto",sticky:!0,opacity:1,className:"elevation-tooltip"}).openTooltip())})),this.on("eletrack_download",(function(t){"modal"==t.downloadLink&&"function"==typeof CustomEvent?document.dispatchEvent(new CustomEvent("eletrack_download",{detail:t})):"link"!=t.downloadLink&&!0!==t.downloadLink||t.confirm()})),this.on("eledata_loaded",(function(t){let e=this._map,i=t.layer;e?(e.once("layeradd",(t=>this.options.autofitBounds&&this.fitBounds(i.getBounds()))),ge.Browser.mobile?this.options.polyline&&i.addTo(e):ye._geomutilLazyLoader=Pt(this.__LGEOMUTIL,"function"!=typeof ge.GeometryUtil||!this.options.lazyLoadJS,ye._geomutilLazyLoader).then((()=>{this.options.almostOver&&(ye._almostoverLazyLoader=Pt(this.__LALMOSTOVER,"function"!=typeof ge.Handler.AlmostOver||!this.options.lazyLoadJS,ye._almostoverLazyLoader).then((()=>{e.addHandler("almostOver",ge.Handler.AlmostOver),ge.GeometryUtil&&e.almostOver&&e.almostOver.enabled()&&(e.almostOver.addLayer(i),e.on("almost:move",(t=>this._mousemoveLayerHandler(t))).on("almost:out",(t=>this._mouseoutHandler(t))))}))),this.options.distanceMarkers?ye._distanceMarkersLazyLoader=Pt(this.__LDISTANCEM,"function"!=typeof ge.DistanceMarkers||!this.options.lazyLoadJS,ye._distanceMarkersLazyLoader).then((()=>this.options.polyline&&i.addTo(e))):this.options.polyline&&i.addTo(e)}))):console.warn("Undefined elevation map object")}));let t=ge.Canvas.prototype._fillStroke,e=this;ge.Canvas.include({_fillStroke:function(i,o){if(e._layers.hasLayer(o)){let n=e.options.theme.replace("-theme",""),a=Gt[n]||{},r=o.options;if(r.color=a.line||a.area||n,r.stroke=!!r.color,t.call(this,i,o),r.stroke&&0!==r.weight){let t=i.globalCompositeOperation||"source-over";i.globalCompositeOperation="destination-over",i.strokeStyle="#FFF",i.lineWidth=1.75*r.weight,i.stroke(),i.globalCompositeOperation=t}}else t.call(this,i,o)}}),this.on("elechart_init",(function(){this.once("elechart_change elechart_hover",(function(t){this._chartEnabled&&(this._chart._showDiagramIndicator(t.data,t.xCoord),this._chart._showDiagramIndicator(t.data,t.xCoord)),this._updateMarker(t.data)}))}))})),ye.addInitHook((function(){let t=this.options,e={};this.options.imperial?(this._distanceFactor=this.__mileFactor,this._xLabel="mi"):(this._distanceFactor=t.distanceFactor,this._xLabel=t.xLabel),this.on("eledata_updated",(function(t){let e=this._data,i=t.index,o=this.track_info,n=o.distance||0,a=e[i].latlng,r=i>0?e[i-1].latlng:a,s=a.distanceTo(r)*this._distanceFactor;n+=Math.round(s/1e3*1e5)/1e5,e[i].dist=n,o.distance=n})),this.on("elechart_axis",(function(){this._chart._registerAxisGrid({axis:"x",position:"bottom",scale:this._chart._x})})),"summary"!=this.options.distance&&this.on("elechart_axis",(function(){e.x=this._chart._x,e.label=this._chart._xLabel,this._chart._registerAxisScale({axis:"x",position:"bottom",scale:e.x,label:e.label,labelY:25,labelX:()=>this._width()+6,name:"distance"})})),this._registerSummary({totlen:{label:"Total Length: ",value:t=>(t.distance||0).toFixed(2)+"&nbsp;"+this._xLabel}})})),ye.addInitHook((function(){let t=this.options,e={};t.imperial?(this._heightFactor=this.__footFactor,this._yLabel="ft"):(this._heightFactor=t.heightFactor,this._yLabel=t.yLabel),this.on("eledata_updated",(function(t){let e=this._data,i=t.index,o=e[i].z*this._heightFactor,n=this.track_info,a=n.elevation_max||-1/0,r=n.elevation_min||1/0;if(!this.options.skipNullZCoords&&i>0){let t=e[i-1].z;if(isNaN(t)){let n=this._lastValidZ,a=o;if(isNaN(n)||isNaN(a)?isNaN(n)?isNaN(a)||(t=a):t=n:t=(n+a)/2,!isNaN(t))return e.splice(i-1,1);e[i-1].z=t}}isNaN(o)||(a=a<o?o:a,r=r>o?o:r,this._lastValidZ=o),e[i].z=o,n.elevation_max=a,n.elevation_min=r})),this.on("elechart_axis",(function(){this._chart._registerAxisGrid({axis:"y",position:"left",scale:this._chart._y})})),"summary"!=this.options.altitude&&(this.on("elechart_axis",(function(){e.y=this._chart._y,e.label=this._yLabel,this._chart._registerAxisScale({axis:"y",position:"left",scale:e.y,label:e.label,labelX:-3,labelY:-8,name:"altitude"})})),this.on("elechart_init",(function(){let t=this.options.theme.replace("-theme",""),e=Gt[t]||{},i=this.options.detached?e.alpha||"0.8":1,o=!!this.options.detached&&e.stroke;this._chart._registerAreaPath({name:"altitude",label:"Altitude",scaleX:"distance",scaleY:"altitude",color:e.area||t,strokeColor:o||"#000",strokeOpacity:"1",fillOpacity:i,preferCanvas:this.options.preferCanvas})}))),this._registerSummary({maxele:{label:"Max Elevation: ",value:t=>(t.elevation_max||0).toFixed(2)+"&nbsp;"+this._yLabel},minele:{label:"Min Elevation: ",value:t=>(t.elevation_min||0).toFixed(2)+"&nbsp;"+this._yLabel}})}));var xe=i(5243);ye.addInitHook((function(){let t=this.options,e={};e.label=t.timeLabel||"t",this._timeFactor=t.timeFactor,this._timeAVGSpeed=(t.timeAVGSpeed||3.6)*(t.speedFactor||1),t.timeFormat?"time"==t.timeFormat?t.timeFormat=t=>new Date(t).toLocaleTimeString():"date"==t.timeFormat&&(t.timeFormat=t=>new Date(t).toLocaleDateString()):t.timeFormat=t=>new Date(t).toLocaleString().replaceAll("/","-").replaceAll(","," "),t.xTimeFormat=t.xTimeFormat||(t=>vt(t).split("'")[0]),t.time&&"summary"!=t.time&&!xe.Browser.mobile&&this._registerAxisScale({axis:"x",position:"top",scale:{attr:"duration",min:0},label:e.label,labelY:-10,labelX:()=>this._width(),name:"time",tickFormat:e=>0==e?"":t.xTimeFormat(e),onAxisMount:t=>{t.select(".domain").remove(),t.selectAll("text").attr("opacity",.65).style("font-family","Monospace").style("font-size","110%"),t.selectAll(".tick line").attr("y2",this._height()).attr("stroke-dasharray",2).attr("opacity",.75)}}),this.on("elepoint_added",(function(t){let e=this._data,i=t.index;if(!t.point.meta||!t.point.meta.time){t.point.meta=t.point.meta||{};let o=e[i].dist-e[i>0?i-1:i].dist,n=this._timeAVGSpeed;t.point.meta.time=new Date(i>0?e[i-1].time.getTime()+o/n*this._timeFactor*1e3:Date.now())}let o=t.point.meta.time;o.getTime()-60*o.getTimezoneOffset()*1e3==0&&(o=0);let n=o,a=i>0?e[i-1].time:n,r=Math.abs(n-a),s=(this.track_info.time||0)+r;e[i].time=o,e[i].duration=s,this.track_info.time=s})),this.options.time&&(this._registerFocusLabel({name:"time",chart:t=>this.options.timeFormat(t.time)}),this._registerSummary({tottime:{label:"Total Time: ",value:t=>vt(t.time||0)}}))}));var be=i(5243);ye.addInitHook((function(){if(!this.options.slope)return;let t=this.options,e={};e.label=t.slopeLabel||"%","summary"!=this.options.slope&&(this._registerAxisScale({axis:"y",position:"right",scale:{min:-1,max:1},tickPadding:16,label:e.label,labelX:25,labelY:-8,name:"slope"}),this._registerAreaPath({name:"slope",label:"Slope",yAttr:"slope",scaleX:"distance",scaleY:"slope",color:"#F00",strokeColor:"#000",strokeOpacity:"0.5",fillOpacity:"0.25"})),this.on("eledata_updated",(function(t){let e=this._data,i=t.index,o=e[i].z,n=1e3*(e[i].dist-e[i>0?i-1:i].dist),a=this.track_info,r=a.ascent||0,s=a.descent||0,l=a.slope_max||0,h=a.slope_min||0,c=0;if(!isNaN(o)){let t=i>0?o-e[i-1].z:0;t>0?r+=t:t<0&&(s-=t),0!==n&&(c=t/n*100)}if(this.options.sDeltaMax){let t=i>0?c-e[i-1].slope:0,o=this.options.sDeltaMax;Math.abs(t)>o&&(c=e[i-1].slope+o*Math.sign(t))}if(this.options.sRange){let t=this.options.sRange;c<t[0]?c=t[0]:c>t[1]&&(c=t[1])}c=be.Util.formatNum(c,2),c>l&&(l=c),c<h&&(h=c),e[i].slope=c,a.ascent=r,a.descent=s,a.slope_max=l,a.slope_min=h})),this._registerFocusLabel({name:"slope",chart:t=>t.slope+e.label,marker:t=>Math.round(t.slope)+e.label}),this._registerSummary({ascent:{label:"Total Ascent: ",value:t=>Math.round(t.ascent||0)+"&nbsp;"+this._yLabel},descent:{label:"Total Descent: ",value:t=>Math.round(t.descent||0)+"&nbsp;"+this._yLabel},minslope:{label:"Min Slope: ",value:t=>Math.round(t.slope_min||0)+"&nbsp;"+e.label},maxslope:{label:"Max Slope: ",value:t=>Math.round(t.slope_max||0)+"&nbsp;"+e.label}})}));var we=i(5243);ye.addInitHook((function(){if(!this.options.speed&&!this.options.acceleration)return;let t=this.options,e={};e.label=t.speedLabel||we._(this.options.imperial?"mph":"km/h"),this._speedFactor=t.speedFactor||1,this.options.speed&&"summary"!=this.options.speed&&(this._registerAxisScale({axis:"y",position:"right",scale:{min:0,max:1},tickPadding:16,label:e.label,labelX:25,labelY:-8,name:"speed"}),this._registerAreaPath({name:"speed",label:"Speed",yAttr:"speed",scaleX:"distance",scaleY:"speed",color:"#03ffff",strokeColor:"#000",strokeOpacity:"0.5",fillOpacity:"0.25"})),this.on("elepoint_added",(function(t){let e=this._data,i=t.index,o=e[i].time,n=o-(i>0?e[i-1].time:o),a=this.track_info,r=a.speed_max||-1/0,s=a.speed_min||1/0,l=a.speed_avg||0,h=0;if(n>0){let t=1e3*(e[i].dist-e[i>0?i-1:i].dist);h=Math.abs(t/n*this._timeFactor)*this._speedFactor}if(this.options.speedDeltaMax){let t=i>0?h-e[i-1].speed:0,o=this.options.speedDeltaMax;Math.abs(t)>o&&(h=e[i-1].speed+o*Math.sign(t))}if(this.options.speedRange){let t=this.options.speedRange;h<t[0]?h=t[0]:h>t[1]&&(h=t[1])}h=we.Util.formatNum(h,2),r=h>r?h:r,s=h<s?h:s,l=(h+l)/2,e[i].speed=h,a.speed_max=r,a.speed_min=s,a.speed_avg=l})),this.options.speed&&(this._registerFocusLabel({name:"speed",chart:t=>t.speed+" "+e.label,marker:t=>Math.round(t.speed)+" "+e.label}),this._registerSummary({minspeed:{label:"Min Speed: ",value:t=>Math.round(t.speed_min||0)+"&nbsp;"+e.label},maxspeed:{label:"Max Speed: ",value:t=>Math.round(t.speed_max||0)+"&nbsp;"+e.label},avgspeed:{label:"Avg Speed: ",value:t=>Math.round(t.speed_avg||0)+"&nbsp;"+e.label}}))}));var Le=i(5243);ye.addInitHook((function(){if(!this.options.acceleration)return;let t=this.options,e={};e.label=t.accelerationLabel||Le._(this.options.imperial?"ft/s²":"m/s²"),this._accelerationFactor=t.accelerationFactor||1,"summary"!=this.options.acceleration&&(this._registerAxisScale({axis:"y",position:"right",scale:{min:0,max:1},tickPadding:16,label:e.label,labelX:25,labelY:-8,name:"acceleration"}),this._registerAreaPath({name:"acceleration",label:"Acceleration",yAttr:"acceleration",scaleX:"distance",scaleY:"acceleration",color:"#050402",strokeColor:"#000",strokeOpacity:"0.5",fillOpacity:"0.25"})),this.on("elepoint_added",(function(t){let e=this._data,i=t.index,o=e[i].time,n=(o-(i>0?e[i-1].time:o))/1e3,a=this.track_info,r=a.acceleration_max||-1/0,s=a.acceleration_min||1/0,l=a.acceleration_avg||0,h=0;if(n>0){let t=e[i].speed,o=(t-(i>0?e[i-1].speed:t))*(1e3/this._timeFactor);h=Math.abs(o/n)*this._accelerationFactor}if(this.options.accelerationDeltaMax){let t=i>0?h-e[i-1].acceleration:0,o=this.options.accelerationDeltaMax;Math.abs(t)>o&&(h=e[i-1].acceleration+o*Math.sign(t))}if(this.options.accelerationRange){let t=this.options.accelerationRange;h<t[0]?h=t[0]:h>t[1]&&(h=t[1])}h=Le.Util.formatNum(h,2),h>r&&(r=h),h<s&&(s=h),l=(h+l)/2,e[i].acceleration=h,a.acceleration_max=r,a.acceleration_min=s,a.acceleration_avg=l})),this._registerFocusLabel({name:"acceleration",chart:t=>t.acceleration+" "+e.label,marker:t=>Math.round(t.acceleration)+" "+e.label}),this._registerSummary({minacceleration:{label:"Min Acceleration: ",value:t=>Math.round(t.acceleration_min||0)+"&nbsp;"+e.label},maxacceleration:{label:"Max Acceleration: ",value:t=>Math.round(t.acceleration_max||0)+"&nbsp;"+e.label},avgacceleration:{label:"Avg Acceleration: ",value:t=>Math.round(t.acceleration_avg||0)+"&nbsp;"+e.label}})}));var ke=i(5243);ye.Utils=t,ye.Components=e,ye.Chart=ce,ke.control.elevation=t=>new ye(t);var Pe=i(5243),Te=i(5243);function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(){Ae.ctrl.scale=Te.control.scale({maxWidth:200,metric:!0,imperial:!1}).addTo(Ae.map)}var Me=i(5243);i(6606),i(8281),i(1090),i(7062),i(5443),i(6268),i(9620);var Se,Ee,Ae={ctx:{language:"en",mapLatLng:{lat:47,lng:11},mapZoom:5,baseLayer:0,overlayLayers:[],markerActive:!1,markerLatLng:{lat:47,lng:11}},c:{BASELAYER_OTM:0,BASELAYER_OSM:1,OVERLAYLAYER_LONVIA_HIKE:0,OVERLAYLAYER_LONVIA_BIKE:1,OVERLAYLAYER_QTH:2},bounds:{minZoom:3,maxZoom:17},lang:null,loc:null,map:null,layers:{base:{},overlay:{}},ctrl:{buttonSearch:null,buttonLocate:null,buttonFileLayer:null,buttonMarker:null,infoDropdown:null,scale:null,languagePicker:null},search:{active:!1,control:null},locate:{prepare:!1,active:!1,marker:null,circle:null,message:null},marker:{e:null},elevation:{control:null,layer:null}};!function(){Ae.ctx.language=document.getElementsByTagName("html")[0].getAttribute("lang").toLowerCase().substring(0,2);var t=d().get("OTM-2-0-0");t&&(Ae.ctx=JSON.parse(t));var e,i,o=location.hash;if(null!==(i=o.match(/^\#qth=(.*)/i))&&2==i.length&&null!=(e=function(t){t.length;var e=-90,i=-180;return t.length>=2&&t.substring(0,2).match(/^[A-R]{2}$/i)?(i+=20*h(t.substring(0,1)),e+=10*h(t.substring(1,2)),2===t.length?{lat:e+5,lng:i+10,zoom:4}:t.length>=4&&t.substring(2,4).match(/^[0-9]{2}$/i)?(i+=2*Number(t.substring(2,3)),e+=1*Number(t.substring(3,4)),4===t.length?{lat:e+.5,lng:i+1,zoom:9}:t.length>=6&&t.substring(4,6).match(/^[A-X]{2}$/i)?(i+=5/60*h(t.substring(4,5)),e+=2.5/60*h(t.substring(5,6)),6===t.length?{lat:e+2.5/60/2,lng:i+5/60/2,zoom:13}:t.length>=8&&t.substring(6,8).match(/^[0-9]{2}$/i)?(i+=.5/60*Number(t.substring(6,7)),e+=.25/60*Number(t.substring(7,8)),8===t.length?{lat:e+.25/60/2,lng:i+.5/60/2,zoom:18}:null):null):null):null):null}(i[1])))Ae.ctx.mapZoom=e.zoom,Ae.ctx.mapLatLng.lat=e.lat,Ae.ctx.mapLatLng.lng=e.lng,Ae.ctx.markerActive=!1,Ae.ctx.overlayLayers.indexOf(Ae.c.OVERLAYLAYER_QTH)<0&&Ae.ctx.overlayLayers.push(Ae.c.OVERLAYLAYER_QTH);else if(null!==(i=o.match(/^\#([a-z]*)=([0-9]{1,2})\/([-+]?[0-9]*\.?[0-9]+)\/([-+]?[0-9]*\.?[0-9]+)/i))&&5==i.length){var n=String(i[1]).toLowerCase(),a=parseInt(i[2]),r=parseFloat(i[3]),s=parseFloat(i[4]);5==i.length&&["map","marker"].indexOf(n)>-1&&!isNaN(a)&&a>=Ae.bounds.minZoom&&a<=Ae.bounds.maxZoom&&!isNaN(r)&&r>=-180&&r<=180&&!isNaN(s)&&s>=-90&&s<=90&&(Ae.ctx.mapZoom=a,Ae.ctx.mapLatLng.lat=r,Ae.ctx.mapLatLng.lng=s,"marker"==n&&(Ae.ctx.markerActive=!0,Ae.ctx.markerLatLng.lat=r,Ae.ctx.markerLatLng.lng=s))}}(),Se=function(){var t,e;f(),Ae.map=Me.map("map",{doubleClickZoom:!0,dragging:!0}).setView(Ae.ctx.mapLatLng,Ae.ctx.mapZoom),Ae.map.zoomControl._zoomInButton.title=Ae.loc.zoom.zoom_in_title,Ae.map.zoomControl._zoomOutButton.title=Ae.loc.zoom.zoom_out_title,Te.Control.Button=Te.Control.extend({statics:{TITLE:"",LABEL:""},initialize:function(t){this._icon=void 0!==Ce(t.icon)?t.icon:null,this._title=void 0!==Ce(t.title)?t.title:"",this._clickhandler=void 0!==Ce(t.clickhandler)?t.clickhandler:null,Te.setOptions(this,t),this._button=null,this._button_a=null,this._toggleState=!1},onAdd:function(t){var e=this;return this._button=Te.DomUtil.create("div","leaflet-bar"),this._icon&&(this._button_a=Te.DomUtil.create("a","otm-button otm-button-"+this._icon,this._button),this._button_a.href="#",this._button_a.title=this._title),this._clickhandler&&Te.DomEvent.on(this._button,"pointerdown",(function(t){e._clickhandler(t),Te.DomEvent.stop(t)})),Te.DomEvent.on(this._button,"click dblclick",(function(t){Te.DomEvent.stop(t)})),this._button},onRemove:function(t){},setToggleState:function(t){this._toggleState=t,this._button_a&&(t?(Te.DomUtil.addClass(this._button_a,"otm-button-toggled"),Te.DomUtil.removeClass(this._button_a,"otm-button-"+this._icon),Te.DomUtil.addClass(this._button_a,"otm-button-"+this._icon+"-w")):(Te.DomUtil.removeClass(this._button_a,"otm-button-toggled"),Te.DomUtil.removeClass(this._button_a,"otm-button-"+this._icon+"-w"),Te.DomUtil.addClass(this._button_a,"otm-button-"+this._icon)))}}),tt||(Q.Control.infoDropdown=Q.Control.extend({initialize:function(t){Q.setOptions(this,t),tt=!0},onAdd:function(t){var e=this;return this._dropdown=!1,this._control=Q.DomUtil.create("div","otm-info-dropdown leaflet-bar"),this._logobutton=Q.DomUtil.create("div","otm-info-logobutton otm-info-logobutton-visible",this._control),this._droparea=Q.DomUtil.create("div","otm-info-droparea otm-info-droparea-hidden",this._control),this._item_about=Q.DomUtil.create("div","otm-info-header",this._droparea),this._item_about=Q.DomUtil.create("a","otm-info-item",this._droparea),this._item_about.innerHTML=Ae.loc.info.about,this._item_about.href=Ae.loc.info.about_url,this._item_impress=Q.DomUtil.create("a","otm-info-item",this._droparea),this._item_impress.innerHTML=Ae.loc.info.impress,this._item_impress.href=Ae.loc.info.impress_url,this._item_credits=Q.DomUtil.create("a","otm-info-item",this._droparea),this._item_credits.innerHTML=Ae.loc.info.credits,this._item_credits.href=Ae.loc.info.credits_url,this._item_garmin=Q.DomUtil.create("a","otm-info-item",this._droparea),this._item_garmin.innerHTML=Ae.loc.info.garmin,this._item_garmin.href=Ae.loc.info.garmin_url,Q.DomEvent.on(this._control,"mouseover pointerdown",(function(t){e._dropdown||(Q.DomUtil.removeClass(e._logobutton,"otm-info-logobutton-visible"),Q.DomUtil.addClass(e._logobutton,"otm-info-logobutton-hidden"),Q.DomUtil.removeClass(e._droparea,"otm-info-droparea-hidden"),Q.DomUtil.addClass(e._droparea,"otm-info-droparea-visible"),Ae.search.active&&$(),e._dropdown=!0)})),Q.DomEvent.on(this._control,"mouseleave",(function(t){e.undrop()})),Ae.map.on("mousedown pointerdown",(function(t){"map"==t.originalEvent.target.id&&e.undrop()})),this.undrop=function(){this._dropdown&&(Q.DomUtil.removeClass(this._logobutton,"otm-info-logobutton-hidden"),Q.DomUtil.addClass(this._logobutton,"otm-info-logobutton-visible"),Q.DomUtil.removeClass(this._droparea,"otm-info-droparea-visible"),Q.DomUtil.addClass(this._droparea,"otm-info-droparea-hidden"),this._dropdown=!1)},this._control},onRemove:function(t){}})),Ae.ctrl.infoDropdown=new Q.Control.infoDropdown({position:"topright"}),Ae.ctrl.infoDropdown.addTo(Ae.map),t='<a href="'+Ae.loc.info.impress_url+'">'+Ae.loc.info.impress_short+'</a> | <a href="'+Ae.loc.info.credits_url+'">'+Ae.loc.info.credits_short+"</a> | ",Ae.layers.base[Ae.loc.layers_base[Ae.c.BASELAYER_OTM]]=new v.TileLayer("https://opentopomap.org/{z}/{x}/{y}.png",{minZoom:Ae.bounds.minZoom,maxZoom:Ae.bounds.maxZoom,attribution:t+Ae.loc.c.map_data+': <a href="https://openstreetmap.org">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | '+Ae.loc.c.map_imagery+': <a href="https://opentopomap.org">OpenTopoMap</a>, &copy; <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>'}),Ae.layers.base[Ae.loc.layers_base[Ae.c.BASELAYER_OSM]]=new v.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:Ae.bounds.minZoom,maxZoom:Ae.bounds.maxZoom,attribution:t+'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> '+Ae.loc.c.contributors}),Ae.layers.overlay[Ae.loc.layers_overlay[Ae.c.OVERLAYLAYER_LONVIA_HIKE]]=new v.TileLayer("https://tile.waymarkedtrails.org/hiking/{z}/{x}/{y}.png",{maxZoom:Ae.bounds.maxZoom,attribution:Ae.loc.c.hikeroutes+" &copy; Lonvia",opacity:.7}),Ae.layers.overlay[Ae.loc.layers_overlay[Ae.c.OVERLAYLAYER_LONVIA_BIKE]]=new v.TileLayer("http://tile.waymarkedtrails.org/cycling/{z}/{x}/{y}.png",{maxZoom:Ae.bounds.maxZoom,attribution:Ae.loc.c.bikeroutes+" &copy; Lonvia",opacity:.7}),g.QthGrid=g.Layer.extend({options:{graticuleLabel:!0,opacity:1,lineWith:.5,lineColor:"rgba(0,0,255,0.65)",fontColor:"rgba(0,0,255,0.9)",fontFace:"Arial, Helvetica, sans-serif",zoomInterval:{longitude:[{start:1,end:4,interval:20},{start:5,end:9,interval:2},{start:10,end:13,interval:2/24},{start:14,end:20,interval:2/240}],latitude:[{start:1,end:4,interval:10},{start:5,end:9,interval:1},{start:10,end:13,interval:1/24},{start:14,end:20,interval:1/240}]}},initialize:function(t){g.setOptions(this,t),this.options.zoomInterval&&(this.options.zoomInterval.latitude&&(this.options.latInterval=this.options.zoomInterval.latitude,this.options.zoomInterval.longitude||(this.options.lngInterval=this.options.zoomInterval.latitude)),this.options.zoomInterval.longitude&&(this.options.lngInterval=this.options.zoomInterval.longitude,this.options.zoomInterval.latitude||(this.options.latInterval=this.options.zoomInterval.longitude)),this.options.latInterval||(this.options.latInterval=this.options.zoomInterval),this.options.lngInterval||this.options.zoomInterval)},onAdd:function(t){this._map=t,this._container||this._createCanvas(),t._panes.overlayPane.appendChild(this._container),t.on("viewreset",this._reRender,this),t.on("move",this._reRender,this),t.on("moveend",this._reRender,this),this._reRender()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._container),t.off("viewreset",this._reRender,this),t.off("move",this._reRender,this),t.off("moveend",this._reRender,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._canvas&&this._map._panes.overlayPane.appendChild(this._canvas),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._canvas&&t.insertBefore(this._canvas,t.firstChild),this},getAttribution:function(){return this.options.attribution},_createCanvas:function(){var t=this;this._container=g.DomUtil.create("div","leaflet-image-layer"),this._canvas=g.DomUtil.create("canvas",""),g.DomUtil.addClass(this._canvas,"leaflet-zoom-hide"),this._updateOpacity(),this._container.appendChild(this._canvas),g.extend(this._canvas,{onselectstart:g.Util.falseFn,onmousemove:g.Util.falseFn,onload:g.bind((function(){t.fire("load")}),this)})},_reRender:function(){g.DomUtil.setPosition(this._container,this._map.containerPointToLayerPoint([0,0]));var t=this._map.getSize();this._container.style.width=t.x+"px",this._container.style.height=t.y+"px",this._canvas.width=t.x,this._canvas.height=t.y,this._canvas.style.width=t.x+"px",this._canvas.style.height=t.y+"px",this._fetchInterval(),this._render()},_updateOpacity:function(){g.DomUtil.setOpacity(this._canvas,this.options.opacity)},_latToString:function(t){return(t=this._currLatInterval>.04?Math.round(100*t)/100:Math.round(1e3*t)/1e3)<0?-1*t+" S":t>0?t+" N":String(t)},_lngToString:function(t){for(;t>180;)t-=360;for(;t<-180;)t+=360;return(t=this._currLatInterval>.04?Math.round(100*t)/100:Math.round(1e3*t)/1e3)>0&&t<180?t+" E":t<0&&t>-180?-1*t+" W":String(-180==t?-1*t:t)},_fetchInterval:function(){var t=this._map.getZoom();if(this._currZoom!=t&&(this._currLngInterval=0,this._currLatInterval=0,this._currZoom=t),!this._currLngInterval)try{for(var e in this.options.lngInterval)if((i=this.options.lngInterval[e]).start<=t&&i.end&&i.end>=t){this._currLngInterval=i.interval;break}}catch(t){this._currLngInterval=0}if(!this._currLatInterval)try{for(var e in this.options.latInterval){var i;if((i=this.options.latInterval[e]).start<=t&&i.end&&i.end>=t){this._currLatInterval=i.interval;break}}}catch(t){this._currLatInterval=0}},_render:function(){var t,e=this._canvas,i=this._map;if(g.Browser.canvas&&i){var o=function(t,e){var o=i.latLngToContainerPoint(g.latLng(e,_)),n=i.latLngToContainerPoint(g.latLng(e,v));if(u.lineWidth=t.options.lineWidth,u.strokeStyle=t.options.lineColor,u.beginPath(),u.moveTo(o.x+1,o.y),u.lineTo(n.x-1,n.y),u.stroke(),t.options.graticuleLabel){u.font="10px "+t.options.fontFace;var a=t._latToString(e),r=u.measureText(a).width,s=o.y+3;u.fillStyle=t.options.lineColor,u.fillRect(0,s-9,r+4,12),u.fillRect(l-r-4,s-9,r+4,12),u.textAlign="left",u.fillStyle="white",u.fillText(a,2,s),u.fillText(a,l-r-2,s)}},n=function(e,o,n){var a,l=function(t,e,i){for(var o="",n=(t+90)/180;e>180;)e-=360;for(;e<-180;)e+=360;var a=(e+180)/360;if(a*=18,n*=18,o+=c(Math.floor(a)),o+=c(Math.floor(n)),2===i)return o;if(a=10*(a-Math.floor(a)),n=10*(n-Math.floor(n)),o+=Number(Math.floor(a)),o+=Number(Math.floor(n)),4===i)return o;if(a=24*(a-Math.floor(a)),n=24*(n-Math.floor(n)),o+=c(Math.floor(a)).toLowerCase(),o+=c(Math.floor(n)).toLowerCase(),6===i)return o;if(a=10*(a-Math.floor(a)),n=10*(n-Math.floor(n)),o+=Number(Math.floor(a)),o+=Number(Math.floor(n)),8===i)return o;throw new Error("Precision level invalid (must be 2, 4 6 or 8)")}(o+r/2,n+s/2,t),h=i.latLngToContainerPoint(g.latLng(o,n)),d=i.latLngToContainerPoint(g.latLng(o+r,n+s)),p=d.x-h.x,f=d.y-h.y;a=p>400?20:p>150?16:12;var m=h.x+p/2,_=h.y+(f+.75*a)/2;u.save(),u.font=a+"px "+e.options.fontFace,u.fontWeight=800,u.fillStyle=e.options.fontColor,u.strokeStyle="rgba(255,255,255,0.8)",u.lineWidth=a/6,u.lineJoin="round",u.miterLimit=2,u.textAlign="center",u.strokeText(l,m,_),u.fillText(l,m,_),u.restore()},a=function(t,e){var o=i.latLngToContainerPoint(g.latLng(f,e)),a=i.latLngToContainerPoint(g.latLng(m,e));if(u.lineWidth=t.options.lineWidth,u.strokeStyle=t.options.lineColor,u.beginPath(),u.moveTo(a.x,1),u.lineTo(o.x,h-1),u.stroke(),t.options.graticuleLabel){u.font="10px "+t.options.fontFace;var s=t._lngToString(e),l=u.measureText(s).width;u.fillStyle=t.options.lineColor,u.fillRect(a.x-l/2-2,0,l+4,12),u.fillRect(a.x-l/2-2,h-12,l+4,12),u.fillStyle="white",u.textAlign="left",u.fillText(s,a.x-l/2,9),u.fillText(s,a.x-l/2,h-3)}if(r>0){for(var c=r;c<=m;c+=r)c>=f-r&&n(t,c,e);for(c=0;c>=f-r;c-=r)c<=m&&n(t,c,e)}};this._currLngInterval&&this._currLatInterval||this._fetchInterval();var r=this._currLatInterval,s=this._currLngInterval;t=r>=9?2:r>=.9?4:r>=.04?6:8;var l=e.width,h=e.height,u=e.getContext("2d");u.clearRect(0,0,l,h);var d=i.containerPointToLatLng(g.point(0,0)),p=i.containerPointToLatLng(g.point(l,0)),f=i.containerPointToLatLng(g.point(l,h)).lat,m=d.lat,_=d.lng,v=p.lng;if(f<-90&&(f=-90),m>90&&(m=90),_>0&&v<0&&(v+=360),r>0){for(var y=r;y<=m;y+=r)y>=f&&o(this,y);for(y=0;y>=f;y-=r)y<=m&&o(this,y)}if(s>0){for(y=s;y<=v;y+=s)y>=_-s&&a(this,y);for(y=0;y>=_-s;y-=s)y<=v&&a(this,y)}}}}),Ae.layers.overlay[Ae.loc.layers_overlay[Ae.c.OVERLAYLAYER_QTH]]=new v.QthGrid({showLabel:!0}),Ae.layers.base[Ae.loc.layers_base[Ae.ctx.baseLayer]].addTo(Ae.map),Ae.ctx.overlayLayers.forEach((function(t){Ae.layers.overlay[Ae.loc.layers_overlay[t]].addTo(Ae.map)})),v.control.layers(Ae.layers.base,Ae.layers.overlay).addTo(Ae.map),b||(y.Control.LanguagePicker=y.Control.extend({initialize:function(t){this._languages=void 0!==x(t.languages)?t.languages:["en"],this._language=void 0!==x(t.language)?t.language:"en",this._onSelectionChange=void 0!==x(t.onSelectionChange)?t.onSelectionChange:onSelectionChange,y.setOptions(this,t),b=!0},onAdd:function(t){var e=this;return this._dropped=!1,this._control=y.DomUtil.create("div","otm-lang-picker leaflet-bar"),this._button=y.DomUtil.create("div","otm-lang-picker-button",this._control),this._button.innerHTML='<img src="https://opentopomap.org/i/f-'+this._language+'.svg" />',this._dropdown=y.DomUtil.create("div","otm-lang-picker-dropdown",this._control),y.DomEvent.on(this._button,"pointerdown",(function(t){e._dropped?(y.DomUtil.removeClass(e._dropdown,"dropped"),e._dropped=!1):(y.DomUtil.addClass(e._dropdown,"dropped"),e._dropped=!0),y.DomEvent.stop(t)})),Ae.map.on("mousedown pointerdown",(function(t){"map"==t.originalEvent.target.id&&e._dropped&&(y.DomUtil.removeClass(e._dropdown,"dropped"),e._dropped=!1)})),this._languages.forEach((function(t){var i=y.DomUtil.create("div","otm-lang-picker-item",e._dropdown);i.innerHTML='<img src="https://opentopomap.org/i/f-'+t+'.svg" />',y.DomEvent.on(i,"mousedown touchstart",(function(i){t!=e._language&&(e._language=t,e._button.innerHTML='<img src="https://opentopomap.org/i/f-'+t+'.svg" />',e._onSelectionChange&&e._onSelectionChange(t)),y.DomUtil.removeClass(e._dropdown,"dropped"),e._dropped=!1,y.DomEvent.stop(i)}))})),this._control},onRemove:function(t){}})),Ae.ctrl.languagePicker=new y.Control.LanguagePicker({languages:Ae.lang.languages,language:Ae.ctx.language,onSelectionChange:function(t){Ae.ctx.language=t,p(),location.reload()},position:"topright"}),Ae.ctrl.languagePicker.addTo(Ae.map),ze(),Ae.ctrl.buttonMarker=(e={position:"topleft",clickhandler:X},e.icon="marker",e.title=Ae.loc.marker.title,new Te.Control.Button(e)).addTo(Ae.map),Ae.ctrl.buttonSearch=function(t){return t.icon="search",t.title=Ae.loc.search.title,new Te.Control.Button(t)}({position:"topleft",clickhandler:$}).addTo(Ae.map),Ae.ctrl.buttonLocate=function(t){return t.icon="target",t.title=Ae.loc.locate.title,new Te.Control.Button(t)}({position:"topleft",clickhandler:rt}).addTo(Ae.map),function(){Pe.Control.FileLayerLoad.TITLE=Ae.loc.tracks.title,Ae.elevation.control=Pe.control.elevation({position:"bottomright",theme:"otm-theme",width:600,height:160,heightFactor:1,margins:{top:24,right:24,bottom:30,left:40},detached:!1,distance:!0,altitude:!0,slope:!1,speed:!1,time:!1,acceleration:!1,summary:!1,legend:!1,collapsed:!0,autohide:!1,responsive:!1,ruler:!1}),Ae.elevation.control.addTo(Ae.map),Ae.elevation.control.hide(),Ae.ctrl.buttonFileLayer=Pe.Control.fileLayerLoad({layerOptions:{style:{color:"#FF1010",opacity:.95,weight:3,clickable:!1},pointToLayer:function(t,e){return Pe.circleMarker(e,{color:"#FF1010",radius:8})},onEachFeature:function(t,e){Ae.elevation.control.addData(t,e)}},fileSizeLimit:10240,formats:[".geojson",".json",".kml",".gpx"]}),Ae.ctrl.buttonFileLayer.addTo(Ae.map),Ae.ctrl.buttonFileLayer.loader.on("data:error",(function(t){Ae.elevation.control.hide(),Ae.elevation.layer&&Ae.elevation.layer.remove(),alert(Ae.loc.tracks.errmsg+t.error.message)})),Ae.ctrl.buttonFileLayer.loader.on("data:loading",(function(t){Ae.elevation.control.hide(),Ae.elevation.control.clear()})),Ae.ctrl.buttonFileLayer.loader.on("data:loaded",(function(t){Ae.elevation.layer&&Ae.elevation.layer.remove(),Ae.elevation.layer=t.layer,Ae.elevation.control._map?Ae.elevation.control.redraw():Ae.elevation.control.addTo(Ae.map),Ae.elevation.control.show(),Ae.elevation.control._expand()}));var t=document.getElementsByClassName("leaflet-control-filelayer");t.length>1&&(Pe.DomUtil.empty(t[1]),Pe.DomUtil.addClass(t[1],"otm-button-waypoints"))}(),Ae.map.on("locationfound",st),Ae.map.on("locationerror",lt),Ae.ctx.markerActive&&J(Ae.ctx.markerLatLng,!0),Ae.map.on("moveend zoomend",(function(t){Ae.ctx.mapZoom=Ae.map.getZoom(),Ae.ctx.mapLatLng=Ae.map.getCenter(),f()})),Ae.map.on("baselayerchange",(function(t){Ae.ctx.baseLayer=Ae.loc.layers_base.indexOf(t.name),p()})),Ae.map.on("overlayadd",(function(t){var e=Ae.loc.layers_overlay.indexOf(t.name);Ae.ctx.overlayLayers.indexOf(e)<0&&Ae.ctx.overlayLayers.push(e),p()})),Ae.map.on("overlayremove",(function(t){var e=Ae.loc.layers_overlay.indexOf(t.name),i=Ae.ctx.overlayLayers.indexOf(e);if(i>=0){for(var o=i;o<Ae.ctx.overlayLayers.length-1;o++)Ae.ctx.overlayLayers[o]=Ae.ctx.overlayLayers[o+1];Ae.ctx.overlayLayers.pop()}p()}))},Ee=function(){alert("Severe Load Error (Localization)")},(0,_.get)("https://opentopomap.org/l/lang.json").then((function(t){var e=t.data;Ae.lang=e,(0,_.get)("https://opentopomap.org/l/"+Ae.ctx.language+".json").then((function(t){var e=t.data;Ae.loc=e,Se()})).catch((function(t){console.log(t),Ee()}))})).catch((function(t){console.log(t),Ee()}))})()})();